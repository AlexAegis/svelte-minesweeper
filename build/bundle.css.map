{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../minesweeper.svelte",
    "../../playfield.svelte",
    "../../tile.svelte"
  ],
  "sourcesContent": [
    "<script lang=\"ts\">import Playfield from './playfield.svelte';\nimport { score$ } from './store';\nconst x = 10;\nconst y = 10;\n</script>\n\n<style>\ndiv {\n\tbackground-color: #aaa;\n\theight: 100%;\n\tdisplay: grid;\n\tgrid-template-rows: 5em auto;\n}\n\ndiv :global(.pf) {\n\tmargin: auto;\n}\n</style>\n\n<div>\n\t<h1>MineSweeper</h1>\n\t<span>{$score$}</span>\n\t<Playfield class=\"pf\" height={y} width={x} />\n</div>\n",
    "<script lang=\"ts\">import { filter } from 'rxjs/operators';\nimport { makeMatrix } from '../helper';\n;\nimport { game$, startGame } from './store';\nimport Tile from './tile.svelte';\nexport let height;\nexport let width;\nlet g = game$.pipe(filter((g) => !!g));\n// Tile Component references in a matrix\nlet tiles = makeMatrix(width, height);\nfunction forEachTile(callback) {\n    for (const row of tiles) {\n        for (const tile of row) {\n            callback(tile);\n        }\n    }\n}\nfunction revealEvery(revealed) {\n    for (const coord of revealed) {\n        const tile = tiles[coord.x][coord.y];\n        if (!tile.revealed) {\n            tile.reveal();\n        }\n    }\n}\nfunction reveal(x, y) {\n    if ($game$) {\n        try {\n            const alsoRevealed = $g.reveal(x, y);\n            revealEvery(alsoRevealed);\n        }\n        catch (e) {\n            if (Array.isArray(e)) {\n                revealEvery(e);\n                setTimeout(() => {\n                    game$.next(undefined);\n                    forEachTile((tile) => tile.hide());\n                }, 1000);\n            }\n        }\n    }\n    else {\n        startGame(width, height, 20, x, y);\n        setTimeout(() => reveal(x, y), 0);\n        // Deferring reveal so the stack can empty and game can be filled\n    }\n}\n</script>\n\n<style>\ndiv {\n\tbackground-color: white;\n\tdisplay: grid;\n\twidth: fit-content;\n}\n</style>\n\n<div class={$$props.class} style={$$props.style}>\n\t{#each Array(height) as _, x}\n\t\t{#each Array(width) as _, y}\n\t\t\t<Tile\n\t\t\t\tbind:this={tiles[x][y]}\n\t\t\t\t{x}\n\t\t\t\t{y}\n\t\t\t\tvalue={$g ? $g.getValueOfTile(x, y) : 0}\n\t\t\t\ton:click={() => reveal(x, y)} />\n\t\t{/each}\n\t{/each}\n</div>\n<!-- TODO: Change the ternary to optional chaining once terser supports it -->\n<!-- https://github.com/terser/terser/issues/567 -->\n",
    "<script lang=\"ts\">export let x;\nexport let y;\nexport let hasMine = false;\nexport let revealed = false;\nexport let flagged = false;\nexport let value;\nexport const reveal = () => {\n    revealed = true;\n    flagged = false;\n};\nexport const hide = () => {\n    revealed = false;\n    flagged = false;\n};\nconst colorMap = {\n    1: '#0000ff',\n    2: '#008100',\n    3: '#ff1300',\n    4: '#000083',\n    5: '#810500',\n    6: '#2a9494',\n    7: '#000000',\n    8: '#808080',\n    M: '#000000',\n};\nfunction onContextMenu(e) {\n    e.preventDefault();\n    flagged = !flagged;\n}\n</script>\n\n<style>\n.tile {\n\theight: 40px;\n\twidth: 40px;\n\tdisplay: block;\n}\n\ndiv {\n\tuser-select: none;\n\tfont-family: 'Geo', sans-serif;\n\tbackground-color: #aaa;\n\tfont-size: 60px;\n\tline-height: 32px;\n\ttext-align: center;\n}\n\nbutton {\n\tz-index: 100;\n\toutline: none;\n\tcursor: pointer;\n\tborder-radius: 0px;\n\tborder-style: outset;\n\tborder-color: #ddd;\n\tbackground-color: #ccc;\n\tcolor: red;\n\tfont-size: 32px;\n\ttext-align: center;\n}\n</style>\n\n{#if revealed}\n\t<div class=\"tile\" style=\"color: {colorMap[value]}; grid-row: {x + 1}; grid-column: {y + 1};\">\n\t\t{#if hasMine}Mine!{:else if value}{value}{/if}\n\t</div>\n{:else}\n\t<button\n\t\tclass=\"tile\"\n\t\tstyle=\"grid-row: {x + 1}; grid-column: {y + 1};\"\n\t\taria-label=\"Tile{flagged ? ' flagged' : ''}\"\n\t\ton:click\n\t\ton:contextmenu={onContextMenu}>\n\t\t{#if flagged}F{/if}\n\t</button>\n{/if}\n"
  ],
  "names": [],
  "mappings": "AAOA,GAAG,eAAC,CAAC,AACJ,gBAAgB,CAAE,IAAI,CACtB,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,kBAAkB,CAAE,GAAG,CAAC,IAAI,AAC7B,CAAC,AAED,kBAAG,CAAC,AAAQ,GAAG,AAAE,CAAC,AACjB,MAAM,CAAE,IAAI,AACb,CAAC;ACkCD,GAAG,eAAC,CAAC,AACJ,gBAAgB,CAAE,KAAK,CACvB,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,WAAW,AACnB,CAAC;ACtBD,KAAK,eAAC,CAAC,AACN,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,KAAK,AACf,CAAC,AAED,GAAG,eAAC,CAAC,AACJ,WAAW,CAAE,IAAI,CACjB,WAAW,CAAE,KAAK,CAAC,CAAC,UAAU,CAC9B,gBAAgB,CAAE,IAAI,CACtB,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,IAAI,CACjB,UAAU,CAAE,MAAM,AACnB,CAAC,AAED,MAAM,eAAC,CAAC,AACP,OAAO,CAAE,GAAG,CACZ,OAAO,CAAE,IAAI,CACb,MAAM,CAAE,OAAO,CACf,aAAa,CAAE,GAAG,CAClB,YAAY,CAAE,MAAM,CACpB,YAAY,CAAE,IAAI,CAClB,gBAAgB,CAAE,IAAI,CACtB,KAAK,CAAE,GAAG,CACV,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,MAAM,AACnB,CAAC"
}