{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../app.svelte",
    "../../button.svelte",
    "../../digit-display.svelte",
    "../../digital-number.svelte",
    "../../menu.svelte",
    "../../modal.svelte",
    "../../panel.svelte",
    "../../playfield.svelte",
    "../../smiley.svelte",
    "../../tile.svelte",
    "../../minesweeper.svelte"
  ],
  "sourcesContent": [
    "<script lang=\"ts\">import Minesweeper from './minesweeper/minesweeper.svelte';\n</script>\n\n<style>\n:global(body) {\n\tdisplay: grid;\n\tbackground-color: #c7c7c7;\n\theight: 100vh;\n}\n</style>\n\n<Minesweeper />\n",
    "<script lang=\"ts\">import { documentMouseUp$ } from '../store';\nlet mousedown = false;\n$: if ($documentMouseUp$)\n    mousedown = false;\n</script>\n\n<style>\nbutton {\n\tfont-family: monospace;\n}\n</style>\n\n<button\n\tclass=\"panel {$$props.class}\"\n\taria-label={$$props['aria-label']}\n\tstyle={$$props.style}\n\tclass:inset={mousedown}\n\ton:mousedown={() => (mousedown = true)}\n\ton:click>\n\t<slot />\n</button>\n",
    "<script lang=\"ts\">import { padArray } from '../../helper';\nimport DigitalNumber from './digital-number.svelte';\nexport let value;\nexport let paddedLength = 3;\n$: numbers = padArray((value !== null && value !== void 0 ? value : 0)\n    .toString()\n    .split('')\n    .map((s) => parseInt(s, 10)), paddedLength, 0);\n</script>\n\n<style>\ndiv {\n\tdisplay: flex;\n\tpadding: 1px;\n\tbackground-color: black;\n}\n</style>\n\n<div class=\"panel inset\">\n\t{#each numbers as number}\n\t\t<DigitalNumber value={number} />\n\t{/each}\n</div>\n",
    "<script lang=\"ts\">export let value;\n$: lastDigit = value % 10;\n</script>\n\n<style>\n.segment-vertical {\n\twidth: 5px;\n\theight: 20px;\n}\n\n.segment-horizontal {\n\twidth: 20px;\n\theight: 5px;\n}\n\n.segment-top {\n\tclip-path: polygon(0 0, 100% 0, var(--high-angle) 100%, var(--low-angle) 100%);\n}\n\n.segment-center {\n\theight: 6px;\n\tclip-path: polygon(\n\t\tvar(--low-angle) 0,\n\t\tvar(--high-angle) 0,\n\t\t100% 50%,\n\t\tvar(--high-angle) 100%,\n\t\tvar(--low-angle) 100%,\n\t\t0% 50%\n\t);\n}\n\n.segment-bottom {\n\tclip-path: polygon(var(--low-angle) 0, var(--high-angle) 0, 100% 100%, 0% 100%);\n}\n\n.segment-left {\n\tclip-path: polygon(0 0, 100% var(--low-angle), 100% var(--high-angle), 0% 100%);\n}\n\n.segment-right {\n\tclip-path: polygon(0 var(--low-angle), 100% 0, 100% 100%, 0 var(--high-angle));\n}\n\n.off:not(.on) {\n\tbackground-image: radial-gradient(#8c0000 35%, transparent var(--low-angle));\n\tbackground-color: #240100;\n\tbackground-position: 0px 0, 37px 39px;\n\tbackground-size: 2px 2px;\n}\n\n.on {\n\tbackground-color: red;\n}\n\ndiv {\n\twidth: 22px;\n\theight: 42px;\n\tbackground-color: black;\n\tdisplay: grid;\n\n\tgrid-template-columns: 1px 16px 5px;\n\tgrid-template-rows: 1px 17px 3px 16px 1px;\n\n\tpadding: 1px;\n\n\t--low-angle: 25%;\n\t--high-angle: calc(100% - var(--low-angle));\n}\n\nspan {\n\tz-index: 10;\n}\n</style>\n\n<div>\n\t<span\n\t\tstyle=\"grid-column: 2; grid-row: 1;\"\n\t\tclass:on={lastDigit === 0 || lastDigit === 2 || lastDigit === 3 || lastDigit >= 5}\n\t\tclass=\"segment-horizontal segment-top off\" />\n\t<span\n\t\tstyle=\"grid-column: 1; grid-row: 2;\"\n\t\tclass:on={lastDigit === 0 || (lastDigit >= 4 && lastDigit <= 6) || lastDigit >= 8 || lastDigit === 9}\n\t\tclass=\"segment-vertical segment-left off\" />\n\t<span\n\t\tstyle=\"grid-column: 3; grid-row: 2;\"\n\t\tclass:on={lastDigit <= 4 || lastDigit >= 7}\n\t\tclass=\"segment-vertical segment-right off\" />\n\t<span\n\t\tstyle=\"grid-column: 2; grid-row: 3;\"\n\t\tclass:on={isNaN(lastDigit) || (lastDigit >= 2 && lastDigit <= 6) || lastDigit >= 8}\n\t\tclass=\"segment-horizontal segment-center off\" />\n\t<span\n\t\tstyle=\"grid-column: 1; grid-row: 4;\"\n\t\tclass:on={lastDigit === 0 || lastDigit === 2 || lastDigit === 6 || lastDigit === 8}\n\t\tclass=\"segment-vertical segment-left off\" />\n\t<span\n\t\tstyle=\"grid-column: 3; grid-row: 4;\"\n\t\tclass:on={lastDigit <= 1 || lastDigit >= 3}\n\t\tclass=\"segment-vertical segment-right off\" />\n\t<span\n\t\tstyle=\"grid-column: 2; grid-row: 5;\"\n\t\tclass:on={!isNaN(lastDigit) && lastDigit !== 1 && lastDigit !== 4 && lastDigit !== 7}\n\t\tclass=\"segment-horizontal segment-bottom off\" />\n</div>\n",
    "<script lang=\"ts\">import { homepage, version } from '../../../package.json';\nimport Settings from '../forms/settings.form.svelte';\nimport { height$, mineCount$, width$ } from '../store';\nimport Button from './button.svelte';\nimport Modal from './modal.svelte';\nlet modal;\n</script>\n\n<style>\ndiv {\n\tdisplay: flex;\n\theight: max-content;\n}\n\nspan {\n\tfont-family: monospace;\n\talign-self: center;\n\tmargin-left: auto;\n\tmargin-right: 4px;\n}\n</style>\n\n<div>\n\t<Button style=\"margin: 4px\" on:click={() => modal.open()}>settings</Button>\n\t<Button style=\"margin: 4px\" on:click={() => window.open(homepage, '_blank')}>github</Button>\n\t<span>v{version}</span>\n</div>\n\n<Modal bind:this={modal}>\n\t<Settings bind:width={$width$} bind:height={$height$} bind:mineCount={$mineCount$} />\n</Modal>\n",
    "<script lang=\"ts\">export let isOpen = false;\nexport function open() {\n    isOpen = true;\n}\nexport function close() {\n    isOpen = false;\n}\n</script>\n\n<style>\n.panel {\n\tz-index: 1000;\n\tposition: fixed;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translateX(-50%) translateY(-50%);\n\twidth: 200px;\n\theight: 200px;\n\tpadding: 8px;\n\tfont-family: monospace;\n}\n\n.backdrop {\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 900;\n\theight: 100vh;\n\twidth: 100vw;\n\tbackground-color: rgba(0, 0, 0, 0.37);\n}\n</style>\n\n{#if isOpen}\n\t<div class=\"panel\">\n\t\t<slot />\n\t</div>\n\n\t<div class=\"backdrop\" on:click={close} />\n{/if}\n",
    "<script lang=\"ts\">\"use strict\";\n</script>\n\n<style>\ndiv {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tbox-sizing: border-box;\n\tpadding: 8px;\n}\n</style>\n\n<div class={$$props.class} style={$$props.style}>\n\t<slot />\n</div>\n",
    "<script lang=\"ts\">import { Subscription } from 'rxjs';\nimport { onDestroy, onMount } from 'svelte';\nimport { MinesweeperGame } from '../minesweeper';\nimport { game$, isEnded$ } from '../store';\nimport Tile from './tile.svelte';\nexport let width;\nexport let height;\nexport let mineCount;\nexport let game;\nlet s = new Subscription();\nlet mounted = false;\n// game$.pipe(delay(200)).subscribe((g) => g?.reset());\nonMount(() => {\n    mounted = true;\n});\nconst tiles = [];\nfunction tileGetter(x, y) {\n    return tiles[x * 1000 + y];\n}\n$: game =\n    mounted && tiles\n        ? new MinesweeperGame(height, width, mineCount, tileGetter)\n        : undefined;\n$: game$.next(game);\nonDestroy(() => {\n    mounted = false;\n    s.unsubscribe();\n});\n</script>\n\n<style>\ndiv {\n\tdisplay: grid;\n\twidth: fit-content;\n\theight: fit-content;\n\tmargin: auto;\n}\n</style>\n\n<div class={$$props.class} style={$$props.style}>\n\t{#each Array(height) as _, x}\n\t\t{#each Array(width) as _, y}\n\t\t\t<Tile bind:this={tiles[x * 1000 + y]} {x} {y} disabled={$isEnded$} />\n\t\t{/each}\n\t{/each}\n</div>\n",
    "<script lang=\"ts\">import { gamestate$, isTileMouseDown$ } from '../store';\nimport Button from './button.svelte';\n$: smiley = $isTileMouseDown$ ? 'click' : $gamestate$;\n</script>\n\n<style>\nimg {\n\timage-rendering: pixelated;\n\twidth: 100%;\n\theight: 100%;\n}\n</style>\n\n<Button on:click aria-label=\"Restart\" class=\"button padded\" style=\"width: 60px; height: 60px;\">\n\t<img\n\t\taria-label={smiley}\n\t\talt=\"{smiley} game\"\n\t\tsrc=\"./assets/minesweeper/smiley-{smiley ?? 'ongoing'}-small.png\" />\n</Button>\n",
    "<script lang=\"ts\">import { createEventDispatcher } from 'svelte';\n;\nimport { assetMap, colorMap, tileClick$ } from '../store';\nconst dispatch = createEventDispatcher();\nexport let x;\nexport let y;\nlet value;\nlet revealed = false;\nlet mark;\nlet isMine = false;\nlet error = false;\nexport let disabled = false;\nlet onReveal;\nlet onMark;\nexport function getX() {\n    return x;\n}\nexport function getY() {\n    return y;\n}\nexport function getValue() {\n    return value;\n}\nexport function getRevealed() {\n    return revealed;\n}\nexport function getMark() {\n    return mark;\n}\nexport function getIsMine() {\n    return isMine;\n}\nexport function getError() {\n    return error;\n}\nexport function setValue(v) {\n    value = v;\n}\nexport function setRevealed(r) {\n    revealed = r;\n}\nexport function setMark(m) {\n    mark = m;\n}\nexport function setIsMine(m) {\n    isMine = m;\n}\nexport function setError(e) {\n    error = e;\n}\nexport function registerOnReveal(callback) {\n    onReveal = (e) => {\n        e.preventDefault();\n        callback();\n    };\n}\nexport function registerOnMark(callback) {\n    onMark = (e) => {\n        e.preventDefault();\n        callback();\n    };\n}\n</script>\n\n<style>\n.tile {\n\theight: 40px;\n\twidth: 40px;\n\tdisplay: block;\n\tbox-sizing: border-box;\n}\n\ndiv {\n\tuser-select: none;\n\tfont-family: 'Press Start 2P', cursive;\n\tborder-style: solid;\n\tborder-color: #a6a6a6;\n\tborder-width: 1px;\n\ttext-align: center;\n\tfont-size: 32px;\n\tline-height: 42px;\n}\n\n.fontpatch {\n\tpadding-left: 4px;\n}\n\nbutton {\n\tfont-size: 32px;\n\ttext-align: center;\n\tpadding: 0;\n}\n\n.error {\n\tbackground-color: red;\n}\n\nimg {\n\timage-rendering: pixelated;\n\twidth: inherit;\n\theight: inherit;\n\tmargin-top: -1px;\n\tmargin-left: -1px;\n}\n</style>\n\n{#if revealed}\n\t<div\n\t\tclass=\"tile\"\n\t\tclass:fontpatch={!isMine && value && !error}\n\t\tclass:error={error && isMine}\n\t\tstyle=\"color: {colorMap[value]}; grid-row: {x + 1}; grid-column: {y + 1};\">\n\t\t{#if isMine}\n\t\t\t<img aria-label=\"mine\" src={assetMap.mine} alt=\"mine\" />\n\t\t{:else if error}\n\t\t\t<img aria-label=\"mine\" src={assetMap.mineFalse} alt=\"mine\" />\n\t\t{:else if value}{value}{/if}\n\t</div>\n{:else}\n\t<button\n\t\t{disabled}\n\t\tclass=\"tile button\"\n\t\tclass:error\n\t\tstyle=\"grid-row: {x + 1}; grid-column: {y + 1};\"\n\t\taria-label=\"Tile {mark}\"\n\t\ton:click={onReveal}\n\t\ton:mousedown={() => tileClick$.next()}\n\t\ton:contextmenu={onMark}>\n\t\t{#if mark === 'flag'}\n\t\t\t<img aria-label=\"flag\" src={assetMap.flag} alt=\"flag\" />\n\t\t{:else if mark === 'questionMark'}\n\t\t\t<img aria-label=\"flag\" src={assetMap.questionMark} alt=\"flag\" />\n\t\t{/if}\n\t</button>\n{/if}\n",
    "<script lang=\"ts\">import { onMount } from 'svelte';\nimport DigitDisplay from './components/digit-display.svelte';\nimport Menu from './components/menu.svelte';\nimport Panel from './components/panel.svelte';\nimport Playfield from './components/playfield.svelte';\nimport Smiley from './components/smiley.svelte';\n;\nimport { assetMap, elapsedTime$, height$, mineCount$, remainingMines$, width$ } from './store';\nlet game;\nonMount(() => {\n    // Preloading assets\n    for (const path of Object.values(assetMap))\n        new Image().src = path;\n});\n</script>\n\n<style>\n.game {\n\tdisplay: grid;\n\tgrid-auto-rows: 1fr;\n\tgrid-auto-columns: 1fr;\n\theight: fit-content;\n\twidth: fit-content;\n\tbox-sizing: border-box;\n\tgrid-template-rows: auto 5em auto;\n\tmargin: auto;\n}\n</style>\n\n<div class=\"panel outset game padded\">\n\t<Menu />\n\t<Panel class=\"panel inset padded\">\n\t\t<DigitDisplay value={$remainingMines$} paddedLength={3} />\n\t\t<Smiley on:click={() => game.reset()} />\n\t\t<DigitDisplay value={$elapsedTime$} paddedLength={3} />\n\t</Panel>\n\t<Playfield\n\t\tclass=\"panel inset\"\n\t\tbind:game\n\t\theight={$height$}\n\t\twidth={$width$}\n\t\tmineCount={$mineCount$} />\n</div>\n"
  ],
  "names": [],
  "mappings": "AAIQ,IAAI,AAAE,CAAC,AACd,OAAO,CAAE,IAAI,CACb,gBAAgB,CAAE,OAAO,CACzB,MAAM,CAAE,KAAK,AACd,CAAC;ACDD,MAAM,cAAC,CAAC,AACP,WAAW,CAAE,SAAS,AACvB,CAAC;ACED,GAAG,eAAC,CAAC,AACJ,OAAO,CAAE,IAAI,CACb,OAAO,CAAE,GAAG,CACZ,gBAAgB,CAAE,KAAK,AACxB,CAAC;ACVD,iBAAiB,eAAC,CAAC,AAClB,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,IAAI,AACb,CAAC,AAED,mBAAmB,eAAC,CAAC,AACpB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,GAAG,AACZ,CAAC,AAED,YAAY,eAAC,CAAC,AACb,SAAS,CAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,WAAW,CAAC,CAAC,IAAI,CAAC,AAC/E,CAAC,AAED,eAAe,eAAC,CAAC,AAChB,MAAM,CAAE,GAAG,CACX,SAAS,CAAE;EACV,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC;EACnB,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;EACpB,IAAI,CAAC,GAAG,CAAC;EACT,IAAI,YAAY,CAAC,CAAC,IAAI,CAAC;EACvB,IAAI,WAAW,CAAC,CAAC,IAAI,CAAC;EACtB,EAAE,CAAC,GAAG;EACN,AACF,CAAC,AAED,eAAe,eAAC,CAAC,AAChB,SAAS,CAAE,QAAQ,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,AAChF,CAAC,AAED,aAAa,eAAC,CAAC,AACd,SAAS,CAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,AAChF,CAAC,AAED,cAAc,eAAC,CAAC,AACf,SAAS,CAAE,QAAQ,CAAC,CAAC,IAAI,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC,AAC/E,CAAC,AAED,mBAAI,KAAK,GAAG,CAAC,AAAC,CAAC,AACd,gBAAgB,CAAE,gBAAgB,OAAO,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,IAAI,WAAW,CAAC,CAAC,CAC5E,gBAAgB,CAAE,OAAO,CACzB,mBAAmB,CAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CACrC,eAAe,CAAE,GAAG,CAAC,GAAG,AACzB,CAAC,AAED,GAAG,eAAC,CAAC,AACJ,gBAAgB,CAAE,GAAG,AACtB,CAAC,AAED,GAAG,eAAC,CAAC,AACJ,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,gBAAgB,CAAE,KAAK,CACvB,OAAO,CAAE,IAAI,CAEb,qBAAqB,CAAE,GAAG,CAAC,IAAI,CAAC,GAAG,CACnC,kBAAkB,CAAE,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAEzC,OAAO,CAAE,GAAG,CAEZ,WAAW,CAAE,GAAG,CAChB,YAAY,CAAE,6BAA6B,AAC5C,CAAC,AAED,IAAI,eAAC,CAAC,AACL,OAAO,CAAE,EAAE,AACZ,CAAC;AC9DD,GAAG,cAAC,CAAC,AACJ,OAAO,CAAE,IAAI,CACb,MAAM,CAAE,WAAW,AACpB,CAAC,AAED,IAAI,cAAC,CAAC,AACL,WAAW,CAAE,SAAS,CACtB,UAAU,CAAE,MAAM,CAClB,WAAW,CAAE,IAAI,CACjB,YAAY,CAAE,GAAG,AAClB,CAAC;ACTD,MAAM,eAAC,CAAC,AACP,OAAO,CAAE,IAAI,CACb,QAAQ,CAAE,KAAK,CACf,IAAI,CAAE,GAAG,CACT,GAAG,CAAE,GAAG,CACR,SAAS,CAAE,WAAW,IAAI,CAAC,CAAC,WAAW,IAAI,CAAC,CAC5C,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,OAAO,CAAE,GAAG,CACZ,WAAW,CAAE,SAAS,AACvB,CAAC,AAED,SAAS,eAAC,CAAC,AACV,QAAQ,CAAE,KAAK,CACf,IAAI,CAAE,CAAC,CACP,GAAG,CAAE,CAAC,CACN,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,KAAK,CACb,KAAK,CAAE,KAAK,CACZ,gBAAgB,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,AACtC,CAAC;AC1BD,GAAG,cAAC,CAAC,AACJ,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,aAAa,CAC9B,UAAU,CAAE,UAAU,CACtB,OAAO,CAAE,GAAG,AACb,CAAC;ACmBD,GAAG,eAAC,CAAC,AACJ,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,WAAW,CAClB,MAAM,CAAE,WAAW,CACnB,MAAM,CAAE,IAAI,AACb,CAAC;AC9BD,GAAG,aAAC,CAAC,AACJ,eAAe,CAAE,SAAS,CAC1B,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACb,CAAC;ACuDD,KAAK,cAAC,CAAC,AACN,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,KAAK,CACd,UAAU,CAAE,UAAU,AACvB,CAAC,AAED,GAAG,cAAC,CAAC,AACJ,WAAW,CAAE,IAAI,CACjB,WAAW,CAAE,gBAAgB,CAAC,CAAC,OAAO,CACtC,YAAY,CAAE,KAAK,CACnB,YAAY,CAAE,OAAO,CACrB,YAAY,CAAE,GAAG,CACjB,UAAU,CAAE,MAAM,CAClB,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,IAAI,AAClB,CAAC,AAED,UAAU,cAAC,CAAC,AACX,YAAY,CAAE,GAAG,AAClB,CAAC,AAED,MAAM,cAAC,CAAC,AACP,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,CAAC,AACX,CAAC,AAED,MAAM,cAAC,CAAC,AACP,gBAAgB,CAAE,GAAG,AACtB,CAAC,AAED,GAAG,cAAC,CAAC,AACJ,eAAe,CAAE,SAAS,CAC1B,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,IAAI,CAChB,WAAW,CAAE,IAAI,AAClB,CAAC;ACtFD,KAAK,eAAC,CAAC,AACN,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,iBAAiB,CAAE,GAAG,CACtB,MAAM,CAAE,WAAW,CACnB,KAAK,CAAE,WAAW,CAClB,UAAU,CAAE,UAAU,CACtB,kBAAkB,CAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CACjC,MAAM,CAAE,IAAI,AACb,CAAC"
}