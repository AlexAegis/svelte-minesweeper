{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../minesweeper.svelte",
    "../../playfield.svelte",
    "../../tile.svelte"
  ],
  "sourcesContent": [
    "<script lang=\"ts\">import Playfield from './playfield.svelte';\nimport { gamestate$, height$, width$ } from './store';\n</script>\n\n<style>\ndiv {\n\tbackground-color: #aaa;\n\theight: 100%;\n\tdisplay: grid;\n\tgrid-template-rows: 5em auto;\n}\n\ndiv :global(.pf) {\n\tmargin: auto;\n}\n</style>\n\n<div>\n\t<h1>MineSweeper</h1>\n\t{$gamestate$}\n\t<Playfield height={$height$} width={$width$} class=\"pf\" />\n</div>\n",
    "<script lang=\"ts\">import { Subscription } from 'rxjs';\nimport { delay, filter, tap } from 'rxjs/operators';\nimport { onDestroy, onMount } from 'svelte';\nimport { makeMatrix } from '../helper';\nimport { MinesweeperGame } from './minesweeper';\nimport { game$, mineCount$ } from './store';\nimport Tile from './tile.svelte';\nexport let width;\nexport let height;\nlet game;\nlet s = new Subscription();\nlet mounted = false;\n$: tiles = makeMatrix(width, height);\n$: {\n    if (mounted) {\n        game = new MinesweeperGame(width, height, tileGetter);\n        game.setMineCount($mineCount$);\n        game$.next(game);\n        s.add(game.isEnded$\n            .pipe(filter((isEnded) => !!isEnded), delay(500), tap(() => game.reset()))\n            .subscribe());\n    }\n}\nonMount(() => {\n    mounted = true;\n});\nfunction tileGetter(x, y) {\n    const t = tiles[x][y];\n    return t;\n}\nonDestroy(() => {\n    mounted = false;\n    s.unsubscribe();\n});\n</script>\n\n<style>\ndiv {\n\tbackground-color: white;\n\tdisplay: grid;\n\twidth: fit-content;\n}\n</style>\n\n<div class={$$props.class} style={$$props.style}>\n\t{#each Array(height) as _, x}\n\t\t{#each Array(width) as _, y}\n\t\t\t<Tile bind:this={tiles[x][y]} {x} {y} />\n\t\t{/each}\n\t{/each}\n</div>\n",
    "<script lang=\"ts\">import { createEventDispatcher } from 'svelte';\n;\nimport { colorMap } from './store';\nconst dispatch = createEventDispatcher();\nexport let x;\nexport let y;\nlet value;\nlet revealed = false;\nlet mark;\nlet isMine = false;\nlet error = false;\nlet onReveal;\nlet onMark;\nexport function getX() {\n    return x;\n}\nexport function getY() {\n    return y;\n}\nexport function getValue() {\n    return value;\n}\nexport function getRevealed() {\n    return revealed;\n}\nexport function getMark() {\n    return mark;\n}\nexport function getIsMine() {\n    return isMine;\n}\nexport function getError() {\n    return error;\n}\nexport function setValue(v) {\n    value = v;\n}\nexport function setRevealed(r) {\n    revealed = r;\n}\nexport function setMark(m) {\n    mark = m;\n}\nexport function setIsMine(m) {\n    isMine = m;\n}\nexport function setError(e) {\n    error = e;\n}\nexport function registerOnReveal(callback) {\n    onReveal = (e) => {\n        e.preventDefault();\n        callback();\n    };\n}\nexport function registerOnMark(callback) {\n    onMark = (e) => {\n        e.preventDefault();\n        callback();\n    };\n}\nlet disabled = false;\n</script>\n\n<style>\n.tile {\n\theight: 40px;\n\twidth: 40px;\n\tdisplay: block;\n}\n\ndiv {\n\tuser-select: none;\n\tfont-family: 'Geo', sans-serif;\n\tbackground-color: #aaa;\n\tfont-size: 60px;\n\tline-height: 32px;\n\ttext-align: center;\n}\n\nbutton {\n\tz-index: 100;\n\toutline: none;\n\tcursor: pointer;\n\tborder-radius: 0px;\n\tborder-style: outset;\n\tborder-color: #ddd;\n\tbackground-color: #ccc;\n\tcolor: red;\n\tfont-size: 32px;\n\ttext-align: center;\n}\n\n.error {\n\tbackground-color: red;\n\tborder-color: red;\n}\n</style>\n\n{#if revealed}\n\t<div\n\t\tclass=\"tile\"\n\t\tclass:error\n\t\tstyle=\"color: {colorMap[value]}; grid-row: {x + 1}; grid-column: {y + 1};\">\n\t\t{#if isMine}X{:else if value}{value}{/if}\n\t</div>\n{:else}\n\t<button\n\t\t{disabled}\n\t\tclass=\"tile\"\n\t\tclass:error\n\t\tstyle=\"grid-row: {x + 1}; grid-column: {y + 1};\"\n\t\taria-label=\"Tile {mark}\"\n\t\ton:click={onReveal}\n\t\ton:contextmenu={onMark}>\n\t\t{#if mark === 'flag'}F{:else if mark === 'questionMark'}?{/if}\n\t</button>\n{/if}\n"
  ],
  "names": [],
  "mappings": "AAKA,GAAG,eAAC,CAAC,AACJ,gBAAgB,CAAE,IAAI,CACtB,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,kBAAkB,CAAE,GAAG,CAAC,IAAI,AAC7B,CAAC,AAED,kBAAG,CAAC,AAAQ,GAAG,AAAE,CAAC,AACjB,MAAM,CAAE,IAAI,AACb,CAAC;ACuBD,GAAG,eAAC,CAAC,AACJ,gBAAgB,CAAE,KAAK,CACvB,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,WAAW,AACnB,CAAC;ACwBD,KAAK,cAAC,CAAC,AACN,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,KAAK,AACf,CAAC,AAED,GAAG,cAAC,CAAC,AACJ,WAAW,CAAE,IAAI,CACjB,WAAW,CAAE,KAAK,CAAC,CAAC,UAAU,CAC9B,gBAAgB,CAAE,IAAI,CACtB,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,IAAI,CACjB,UAAU,CAAE,MAAM,AACnB,CAAC,AAED,MAAM,cAAC,CAAC,AACP,OAAO,CAAE,GAAG,CACZ,OAAO,CAAE,IAAI,CACb,MAAM,CAAE,OAAO,CACf,aAAa,CAAE,GAAG,CAClB,YAAY,CAAE,MAAM,CACpB,YAAY,CAAE,IAAI,CAClB,gBAAgB,CAAE,IAAI,CACtB,KAAK,CAAE,GAAG,CACV,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,MAAM,AACnB,CAAC,AAED,MAAM,cAAC,CAAC,AACP,gBAAgB,CAAE,GAAG,CACrB,YAAY,CAAE,GAAG,AAClB,CAAC"
}