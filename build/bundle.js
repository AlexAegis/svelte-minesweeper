var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(t,e,n,r){if(t){const i=l(t,e,n,r);return t[0](i)}}function l(t,n,r,i){return t[1]&&i?e(r.ctx.slice(),t[1](i(n))):r.ctx}function a(t,e,n,r,i,o,s){const u=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(u){const i=l(e,n,r,s);t.p(i,u)}}function f(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function h(t){return null==t?"":t}function p(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function $(){return g("")}function w(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function E(t,e,n){t.classList[n?"add":"remove"](e)}let S;function M(t){S=t}function k(){if(!S)throw new Error("Function called outside component initialization");return S}function O(){const t=k();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,i)})}}}function T(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const I=[],j=[],R=[],N=[],P=Promise.resolve();let A=!1;function V(t){R.push(t)}let C=!1;const H=new Set;function L(){if(!C){C=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];M(e),Y(e.$$)}for(I.length=0;j.length;)j.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];H.has(e)||(H.add(e),e())}R.length=0}while(I.length);for(;N.length;)N.pop()();A=!1,C=!1,H.clear()}}function Y(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(V)}}const D=new Set;let B;function U(){B={r:0,c:[],p:B}}function q(){B.r||i(B.c),B=B.p}function W(t,e){t&&t.i&&(D.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(D.has(t))return;D.add(t),B.c.push(()=>{D.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function X(t){t&&t.c()}function z(t,e,r){const{fragment:s,on_mount:u,on_destroy:c,after_update:l}=t.$$;s&&s.m(e,r),V(()=>{const e=u.map(n).filter(o);c?c.push(...e):i(e),t.$$.on_mount=[]}),l.forEach(V)}function G(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(I.push(t),A||(A=!0,P.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(e,n,o,s,u,c,l=[-1]){const a=S;M(e);const f=n.props||{},h=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:u,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:r(),dirty:l};let p=!1;if(h.ctx=o?o(e,f,(t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&u(h.ctx[t],h.ctx[t]=i)&&(h.bound[t]&&h.bound[t](i),p&&J(e,t)),n}):[],h.update(),p=!0,i(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(b)}else h.fragment&&h.fragment.c();n.intro&&W(e.$$.fragment),z(e,n.target,n.anchor),L()}M(a)}class Q{$destroy(){G(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function Z(e){let n;return{c(){n=v("div"),x(n,"class","panel inset svelte-1n5sj1")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}function tt(t,e,n){let{value:r}=e;return t.$set=t=>{"value"in t&&n(0,r=t.value)},[r]}class et extends Q{constructor(t){super(),K(this,t,tt,Z,s,{value:0})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var nt=function(t,e){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function rt(t,e){function n(){this.constructor=t}nt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function it(t){return"function"==typeof t}var ot=!1,st={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;ot=t},get useDeprecatedSynchronousErrorHandling(){return ot}};function ut(t){setTimeout((function(){throw t}),0)}var ct={closed:!0,next:function(t){},error:function(t){if(st.useDeprecatedSynchronousErrorHandling)throw t;ut(t)},complete:function(){}},lt=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function at(t){return null!==t&&"object"==typeof t}var ft=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),ht=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o){n[o].remove(this)}if(it(r))try{r.call(this)}catch(t){e=t instanceof ft?pt(t.errors):[t]}if(lt(i)){o=-1;for(var s=i.length;++o<s;){var u=i[o];if(at(u))try{u.unsubscribe()}catch(t){e=e||[],t instanceof ft?e=e.concat(pt(t.errors)):e.push(t)}}}if(e)throw new ft(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function pt(t){return t.reduce((function(t,e){return t.concat(e instanceof ft?e.errors:e)}),[])}var dt=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),bt=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=ct;break;case 1:if(!n){o.destination=ct;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new yt(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new yt(o,n,r,i)}return o}return rt(e,t),e.prototype[dt]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(ht),yt=function(t){function e(e,n,r,i){var o,s=t.call(this)||this;s._parentSubscriber=e;var u=s;return it(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==ct&&(it((u=Object.create(n)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=o,s._error=r,s._complete=i,s}return rt(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;st.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=st.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):ut(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;ut(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};st.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),st.useDeprecatedSynchronousErrorHandling)throw t;ut(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!st.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return st.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(ut(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(bt);var vt=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function gt(t){return t}function mt(t){return 0===t.length?gt:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var $t=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof bt)return t;if(t[dt])return t[dt]()}return t||e||n?new bt(t,e,n):new bt(ct)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||st.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),st.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){st.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof bt?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=wt(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[vt]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:mt(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=wt(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function wt(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}var xt=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),_t=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return rt(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(ht),Et=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return rt(e,t),e}(bt),St=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return rt(e,t),e.prototype[dt]=function(){return new Et(this)},e.prototype.lift=function(t){var e=new Mt(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new xt;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new xt;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new xt;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new xt;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new xt;return this.hasError?(t.error(this.thrownError),ht.EMPTY):this.isStopped?(t.complete(),ht.EMPTY):(this.observers.push(t),new _t(this,t))},e.prototype.asObservable=function(){var t=new $t;return t.source=this,t},e.create=function(t,e){return new Mt(t,e)},e}($t),Mt=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return rt(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):ht.EMPTY},e}(St),kt=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return rt(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xt;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(St);function Ot(t){return t&&"function"==typeof t.schedule}var Tt=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function It(t,e){return new $t((function(n){var r=new ht,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function jt(t,e){return e?It(t,e):new $t(Tt(t))}function Rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Ot(n)?(t.pop(),It(t,n)):jt(t)}function Nt(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Pt(t,e))}}var Pt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new At(t,this.project,this.thisArg))},t}(),At=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return rt(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(bt),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rt(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(bt),Ct=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return rt(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(bt);function Ht(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Lt=Ht(),Yt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Dt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Bt=function(t){if(t&&"function"==typeof t[vt])return r=t,function(t){var e=r[vt]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Yt(t))return Tt(t);if(Dt(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,ut),t};if(t&&"function"==typeof t[Lt])return e=t,function(t){for(var n=e[Lt]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=at(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Ut(t,e,n,r,i){if(void 0===i&&(i=new Ct(t,n,r)),!i.closed)return e instanceof $t?e.subscribe(i):Bt(e)(i)}var qt={};function Wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Ot(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&lt(t[0])&&(t=t[0]),jt(t,r).lift(new Ft(n))}var Ft=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Xt(t,this.resultSelector))},t}(),Xt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return rt(e,t),e.prototype._next=function(t){this.values.push(qt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Ut(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,s=o[n],u=this.toRespond?s===qt?--this.toRespond:this.toRespond:0;o[n]=e,0===u&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Vt);function zt(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[vt]}(t))return function(t,e){return new $t((function(n){var r=new ht;return r.add(e.schedule((function(){var i=t[vt]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Dt(t))return function(t,e){return new $t((function(n){var r=new ht;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Yt(t))return It(t,e);if(function(t){return t&&"function"==typeof t[Lt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new $t((function(n){var r,i=new ht;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[Lt](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Gt(t,e){return e?zt(t,e):t instanceof $t?t:new $t(Bt(t))}var Jt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t,this.project,this.concurrent))},t}(),Kt=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return rt(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new Ct(this,e,n),i=this.destination;i.add(r);var o=Ut(this,t,void 0,void 0,r);o!==r&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Vt);function Qt(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(e,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(i){return i.pipe(t((function(t,r){return Gt(e(t,r)).pipe(Nt((function(e,i){return n(t,e,r,i)})))}),r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new Jt(e,r))})}(gt,t)}function Zt(){return Qt(1)}function te(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Zt()(Rt.apply(void 0,t))}function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return Ot(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof $t?t[0]:Qt(n)(jt(t,r))}function ne(t,e){return function(n){return n.lift(new re(t,e))}}var re=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new ie(t,this.predicate,this.thisArg))},t}(),ie=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return rt(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(bt);function oe(t){return function(e){return e.lift(new se(t))}}var se=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new ue(t,this.value))},t}(),ue=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return rt(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(bt);var ce=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new le(t,this.project))},t}(),le=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return rt(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Ct(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Ut(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(Vt);const ae=(t,e=0,n)=>{const r=[];for(let i=0;i<t;i++){const t=new Array(e);if(n)for(let r=0;r<e;r++)t[r]=n(i,r);r.push(t)}return r};function fe(t,e){return Math.floor(t+Math.random()*e)}class he extends kt{set(t){super.next(t)}}const pe=new St,de=function t(e,n,r,i){return it(r)&&(i=r,r=void 0),i?t(e,n,r).pipe(Nt((function(t){return lt(t)?i.apply(void 0,t):i(t)}))):new $t((function(t){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var u=e;e.addEventListener(n,r,o),s=function(){return u.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(n,r),s=function(){return c.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var l=e;e.addListener(n,r),s=function(){return l.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var a=0,f=e.length;a<f;a++)t(e[a],n,r,i,o)}i.add(s)}(e,n,(function(e){arguments.length>1?t.next(Array.prototype.slice.call(arguments)):t.next(e)}),t,r)}))}(document,"mouseup"),be=ee(pe.pipe(oe(!0)),de.pipe(oe(!1))),ye=new he(12),ve=new he(8),ge=new he(4),me=new he(void 0),$e=me.pipe(function t(e,n){return"function"==typeof n?function(r){return r.pipe(t((function(t,r){return Gt(e(t,r)).pipe(Nt((function(e,i){return n(t,e,r,i)})))})))}:function(t){return t.lift(new ce(e))}}(t=>{var e;return null!==(e=null==t?void 0:t.gamestate$)&&void 0!==e?e:Rt(void 0)})),we=$e.pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Ot(n)?(t.pop(),function(e){return te(t,e,n)}):function(e){return te(t,e)}}(!1),Nt(t=>"won"===t||"lost"===t)),xe=(Wt([ye,ve]).pipe(Nt(([t,e])=>({width:t,height:e}))),{0:"#000000",1:"#0000ff",2:"#008100",3:"#ff1300",4:"#000083",5:"#810500",6:"#2a9494",7:"#000000",8:"#808080"});function _e(t){let e,n,r,o,s,u,l;const f=t[3].default,h=c(f,t,t[2],null);return{c(){e=v("button"),h&&h.c(),x(e,"class",n="panel "+t[1].class+" svelte-wwutww"),x(e,"aria-label",r=t[1]["aria-label"]),x(e,"style",o=t[1].style),E(e,"inset",t[0])},m(n,r){d(n,e,r),h&&h.m(e,null),s=!0,u||(l=[w(e,"mousedown",t[5]),w(e,"click",t[4])],u=!0)},p(t,[i]){h&&h.p&&4&i&&a(h,f,t,t[2],i,null,null),(!s||2&i&&n!==(n="panel "+t[1].class+" svelte-wwutww"))&&x(e,"class",n),(!s||2&i&&r!==(r=t[1]["aria-label"]))&&x(e,"aria-label",r),(!s||2&i&&o!==(o=t[1].style))&&x(e,"style",o),3&i&&E(e,"inset",t[0])},i(t){s||(W(h,t),s=!0)},o(t){F(h,t),s=!1},d(t){t&&b(e),h&&h.d(t),u=!1,i(l)}}}function Ee(t,n,r){let i;u(t,de,t=>r(6,i=t));let o=!1,{$$slots:s={},$$scope:c}=n;return t.$set=t=>{r(1,n=e(e({},n),f(t))),"$$scope"in t&&r(2,c=t.$$scope)},t.$$.update=()=>{64&t.$$.dirty&&i&&r(0,o=!1)},n=f(n),[o,n,c,s,function(e){T(t,e)},()=>r(0,o=!0)]}class Se extends Q{constructor(t){super(),K(this,t,Ee,_e,s,{})}}function Me(t){let e;return{c(){e=g("game")},m(t,n){d(t,e,n)},d(t){t&&b(e)}}}function ke(t){let e;return{c(){e=g("github")},m(t,n){d(t,e,n)},d(t){t&&b(e)}}}function Oe(t){let e,n,r,i,o;return n=new Se({props:{$$slots:{default:[Me]},$$scope:{ctx:t}}}),i=new Se({props:{$$slots:{default:[ke]},$$scope:{ctx:t}}}),i.$on("click",t[0]),{c(){e=v("div"),X(n.$$.fragment),r=m(),X(i.$$.fragment),x(e,"class","svelte-1jxxuam")},m(t,s){d(t,e,s),z(n,e,null),p(e,r),z(i,e,null),o=!0},p(t,[e]){const r={};2&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);const o={};2&e&&(o.$$scope={dirty:e,ctx:t}),i.$set(o)},i(t){o||(W(n.$$.fragment,t),W(i.$$.fragment,t),o=!0)},o(t){F(n.$$.fragment,t),F(i.$$.fragment,t),o=!1},d(t){t&&b(e),G(n),G(i)}}}function Te(t){return[()=>window.open("https://www.github.com/alexaegis/svelte-sandbox","_blank")]}class Ie extends Q{constructor(t){super(),K(this,t,Te,Oe,s,{})}}function je(t){let e,n,r,i;const o=t[2].default,s=c(o,t,t[1],null);return{c(){e=v("div"),s&&s.c(),x(e,"class",n=h(t[0].class)+" svelte-hh26vd"),x(e,"style",r=t[0].style)},m(t,n){d(t,e,n),s&&s.m(e,null),i=!0},p(t,[u]){s&&s.p&&2&u&&a(s,o,t,t[1],u,null,null),(!i||1&u&&n!==(n=h(t[0].class)+" svelte-hh26vd"))&&x(e,"class",n),(!i||1&u&&r!==(r=t[0].style))&&x(e,"style",r)},i(t){i||(W(s,t),i=!0)},o(t){F(s,t),i=!1},d(t){t&&b(e),s&&s.d(t)}}}function Re(t,n,r){let{$$slots:i={},$$scope:o}=n;return t.$set=t=>{r(0,n=e(e({},n),f(t))),"$$scope"in t&&r(1,o=t.$$scope)},[n=f(n),o,i]}class Ne extends Q{constructor(t){super(),K(this,t,Re,je,s,{})}}class Pe{constructor(t,e){"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y)}static random(t,e,n,r){return new Pe(fe(t,e),fe(n,r))}toString(){return`${this.x},${this.y}`}static toString(t,e){return`${t},${e}`}equal(t,e){return"number"==typeof t?this.x===t&&this.y===e:this.x===t.x&&this.y===t.y}}Pe.directions={NORTH:new Pe(0,1),NORTHEAST:new Pe(1,1),EAST:new Pe(1,0),SOUTHEAST:new Pe(1,-1),SOUTH:new Pe(0,-1),SOUTHWEST:new Pe(-1,-1),WEST:new Pe(-1,0),NORTHWEST:new Pe(-1,1)};class Ae{constructor(t,e=t,n){this.height=t,this.width=e,this.tileCount=this.width*this.height,this.mines=new Map,this.mineCount=10,this.revealed$=new kt(0),this.correctlyMarked$=new kt(0),this.isBlown$=new kt(void 0),this.isWon$=this.revealed$.pipe(Nt(t=>t+this.mineCount===this.tileCount)),this.isOnGoing$=Wt([this.isWon$,this.isBlown$]).pipe(Nt(([t,e])=>!t&&!e)),this.isEnded$=Wt([this.isWon$,this.isBlown$]).pipe(Nt(([t,e])=>t||e)),this.gamestate$=ee(this.isWon$.pipe(ne(gt),oe("won")),this.isBlown$.pipe(ne(t=>!!t),oe("lost")),this.isOnGoing$.pipe(ne(gt),oe("ongoing"))),this.matrix=ae(e,t,(t,e)=>({t:n(t,e)})),this.reset()}setMineCount(t){this.mineCount=t}isOutOfBounds(t,e){return t>this.width||e>this.height||t<0||e<0}forEach(t){for(const e of this.matrix)for(const n of e)t(n.t,n)}surrounding(t,e){return Object.values(Pe.directions).map(n=>{var r;return null===(r=this.matrix[t+n.x])||void 0===r?void 0:r[e+n.y]}).filter(t=>!!t)}reset(){this.isBlown$.next(void 0),this.revealed$.next(0),this.correctlyMarked$.next(0),this.mines.clear(),this.forEach((t,e)=>{t.setValue(0),t.setIsMine(!1),t.setMark(void 0),t.setError(!1),t.setRevealed(!1),t.registerOnReveal(()=>{var n;this.start(t.getX(),t.getY()),null===(n=e.onReveal)||void 0===n||n.call(e,!1)})})}makeMarkLogic(t){return()=>{"questionMark"===t.getMark()?t.setMark(void 0):"flag"===t.getMark()?(t.setMark("questionMark"),t.getIsMine()&&this.correctlyMarked$.next(this.correctlyMarked$.value-1)):void 0===t.getMark()&&(t.setMark("flag"),t.getIsMine()&&this.correctlyMarked$.next(this.correctlyMarked$.value+1))}}makeMineRevealLogic(t,e){return(n=!0)=>{n&&void 0!==t.getMark()?t.setMark(void 0):(t.setError(!0),this.isBlown$.next(e),this.forEach(t=>{t.getIsMine()&&"flag"!==t.getMark()&&t.setRevealed(!0),t.getIsMine()||"flag"!==t.getMark()||(t.setRevealed(!0),t.setError(!0))}))}}makeTileRevealLogic(t){return(e=!0)=>{var n;if(e&&void 0!==t.getMark())t.setMark(void 0);else if(!t.getRevealed()&&void 0===t.getMark()&&(t.setRevealed(!0),this.revealed$.next(this.revealed$.value+1),!t.getValue()))for(const e of this.surrounding(t.getX(),t.getY()))void 0===e.t.getMark()&&(null===(n=e.onReveal)||void 0===n||n.call(e,!1))}}start(t,e){if(this.isOutOfBounds(t,e))throw new Error("Start tile out of field");for(this.reset();this.mines.size<this.mineCount;){const n=Pe.random(0,this.width,0,this.height);if(!n.equal(t,e)){this.matrix[n.x][n.y].t.setIsMine(!0),this.mines.set(n.toString(),n)}}for(const[,t]of this.mines)for(const e of this.surrounding(t.x,t.y))e&&!e.t.getIsMine()&&e.t.setValue(e.t.getValue()+1);this.forEach((t,e)=>{t.registerOnMark(this.makeMarkLogic(t)),t.getIsMine()?e.onReveal=this.makeMineRevealLogic(t,e):e.onReveal=this.makeTileRevealLogic(t),t.registerOnReveal(e.onReveal)})}}function Ve(t){let e,n,r,s;function u(t,e){return"flag"===t[5]?Le:"questionMark"===t[5]?He:void 0}let c=u(t),l=c&&c(t);return{c(){e=v("button"),l&&l.c(),e.disabled=t[2],x(e,"class","tile button svelte-429lhb"),_(e,"grid-row",t[0]+1),_(e,"grid-column",t[1]+1),x(e,"aria-label",n="Tile "+t[5]),E(e,"error",t[7])},m(n,i){d(n,e,i),l&&l.m(e,null),r||(s=[w(e,"click",(function(){o(t[8])&&t[8].apply(this,arguments)})),w(e,"mousedown",t[24]),w(e,"contextmenu",(function(){o(t[9])&&t[9].apply(this,arguments)}))],r=!0)},p(r,i){c!==(c=u(t=r))&&(l&&l.d(1),l=c&&c(t),l&&(l.c(),l.m(e,null))),4&i&&(e.disabled=t[2]),1&i&&_(e,"grid-row",t[0]+1),2&i&&_(e,"grid-column",t[1]+1),32&i&&n!==(n="Tile "+t[5])&&x(e,"aria-label",n),128&i&&E(e,"error",t[7])},d(t){t&&b(e),l&&l.d(),r=!1,i(s)}}}function Ce(t){let e;function n(t,e){return t[6]?De:t[3]?Ye:void 0}let r=n(t),i=r&&r(t);return{c(){e=v("div"),i&&i.c(),x(e,"class","tile svelte-429lhb"),_(e,"color",xe[t[3]]),_(e,"grid-row",t[0]+1),_(e,"grid-column",t[1]+1),E(e,"fontpatch",!t[6]&&t[3]&&!t[7]),E(e,"error",t[7]&&t[6])},m(t,n){d(t,e,n),i&&i.m(e,null)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i&&i.d(1),i=r&&r(t),i&&(i.c(),i.m(e,null))),8&o&&_(e,"color",xe[t[3]]),1&o&&_(e,"grid-row",t[0]+1),2&o&&_(e,"grid-column",t[1]+1),200&o&&E(e,"fontpatch",!t[6]&&t[3]&&!t[7]),192&o&&E(e,"error",t[7]&&t[6])},d(t){t&&b(e),i&&i.d()}}}function He(t){let e;return{c(){e=g("?")},m(t,n){d(t,e,n)},d(t){t&&b(e)}}}function Le(t){let e,n;return{c(){e=v("img"),x(e,"aria-label","flag"),e.src!==(n="./assets/minesweeper/flag-small.png")&&x(e,"src","./assets/minesweeper/flag-small.png"),x(e,"alt","flag"),x(e,"class","svelte-429lhb")},m(t,n){d(t,e,n)},d(t){t&&b(e)}}}function Ye(t){let e;function n(t,e){return t[7]?Ue:Be}let r=n(t),i=r(t);return{c(){i.c(),e=$()},m(t,n){i.m(t,n),d(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&b(e)}}}function De(e){let n,r;return{c(){n=v("img"),x(n,"aria-label","mine"),n.src!==(r="./assets/minesweeper/mine-small.png")&&x(n,"src","./assets/minesweeper/mine-small.png"),x(n,"alt","mine"),x(n,"class","svelte-429lhb")},m(t,e){d(t,n,e)},p:t,d(t){t&&b(n)}}}function Be(t){let e;return{c(){e=g(t[3])},m(t,n){d(t,e,n)},p(t,n){8&n&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(e,t[3])},d(t){t&&b(e)}}}function Ue(e){let n,r;return{c(){n=v("img"),x(n,"aria-label","mine"),n.src!==(r="./assets/minesweeper/mine-false-small.png")&&x(n,"src","./assets/minesweeper/mine-false-small.png"),x(n,"alt","mine"),x(n,"class","svelte-429lhb")},m(t,e){d(t,n,e)},p:t,d(t){t&&b(n)}}}function qe(e){let n;function r(t,e){return t[4]?Ce:Ve}let i=r(e),o=i(e);return{c(){o.c(),n=$()},m(t,e){o.m(t,e),d(t,n,e)},p(t,[e]){i===(i=r(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(n.parentNode,n)))},i:t,o:t,d(t){o.d(t),t&&b(n)}}}function We(t,e,n){O();let r,i,o,s,{x:u}=e,{y:c}=e,l=!1,a=!1,f=!1,{disabled:h=!1}=e;return t.$set=t=>{"x"in t&&n(0,u=t.x),"y"in t&&n(1,c=t.y),"disabled"in t&&n(2,h=t.disabled)},[u,c,h,r,l,i,a,f,o,s,function(){return u},function(){return c},function(){return r},function(){return l},function(){return i},function(){return a},function(){return f},function(t){n(3,r=t)},function(t){n(4,l=t)},function(t){n(5,i=t)},function(t){n(6,a=t)},function(t){n(7,f=t)},function(t){n(8,o=e=>{e.preventDefault(),t()})},function(t){n(9,s=e=>{e.preventDefault(),t()})},()=>pe.next()]}class Fe extends Q{constructor(t){super(),K(this,t,We,qe,s,{x:0,y:1,disabled:2,getX:10,getY:11,getValue:12,getRevealed:13,getMark:14,getIsMine:15,getError:16,setValue:17,setRevealed:18,setMark:19,setIsMine:20,setError:21,registerOnReveal:22,registerOnMark:23})}get getX(){return this.$$.ctx[10]}get getY(){return this.$$.ctx[11]}get getValue(){return this.$$.ctx[12]}get getRevealed(){return this.$$.ctx[13]}get getMark(){return this.$$.ctx[14]}get getIsMine(){return this.$$.ctx[15]}get getError(){return this.$$.ctx[16]}get setValue(){return this.$$.ctx[17]}get setRevealed(){return this.$$.ctx[18]}get setMark(){return this.$$.ctx[19]}get setIsMine(){return this.$$.ctx[20]}get setError(){return this.$$.ctx[21]}get registerOnReveal(){return this.$$.ctx[22]}get registerOnMark(){return this.$$.ctx[23]}}function Xe(t,e,n){const r=t.slice();return r[11]=e[n],r[15]=n,r}function ze(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function Ge(t){let e,n,r=t[13],i=t[15];const o=()=>t[6](e,r,i),s=()=>t[6](null,r,i);let u={x:t[13],y:t[15],disabled:t[3]};return e=new Fe({props:u}),o(),{c(){X(e.$$.fragment)},m(t,r){z(e,t,r),n=!0},p(t,n){r===t[13]&&i===t[15]||(s(),r=t[13],i=t[15],o());const u={};8&n&&(u.disabled=t[3]),e.$set(u)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){s(),G(e,t)}}}function Je(t){let e,n,r=Array(t[0]),i=[];for(let e=0;e<r.length;e+=1)i[e]=Ge(Xe(t,r,e));const o=t=>F(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);d(t,e,r),n=!0},p(t,n){if(13&n){let s;for(r=Array(t[0]),s=0;s<r.length;s+=1){const o=Xe(t,r,s);i[s]?(i[s].p(o,n),W(i[s],1)):(i[s]=Ge(o),i[s].c(),W(i[s],1),i[s].m(e.parentNode,e))}for(U(),s=r.length;s<i.length;s+=1)o(s);q()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)W(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);n=!1},d(t){y(i,t),t&&b(e)}}}function Ke(t){let e,n,r,i,o=Array(t[1]),s=[];for(let e=0;e<o.length;e+=1)s[e]=Je(ze(t,o,e));const u=t=>F(s[t],1,1,()=>{s[t]=null});return{c(){e=v("div");for(let t=0;t<s.length;t+=1)s[t].c();x(e,"class",n=h(t[4].class)+" svelte-1u9im7c"),x(e,"style",r=t[4].style)},m(t,n){d(t,e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null);i=!0},p(t,[c]){if(15&c){let n;for(o=Array(t[1]),n=0;n<o.length;n+=1){const r=ze(t,o,n);s[n]?(s[n].p(r,c),W(s[n],1)):(s[n]=Je(r),s[n].c(),W(s[n],1),s[n].m(e,null))}for(U(),n=o.length;n<s.length;n+=1)u(n);q()}(!i||16&c&&n!==(n=h(t[4].class)+" svelte-1u9im7c"))&&x(e,"class",n),(!i||16&c&&r!==(r=t[4].style))&&x(e,"style",r)},i(t){if(!i){for(let t=0;t<o.length;t+=1)W(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);i=!1},d(t){t&&b(e),y(s,t)}}}function Qe(t,n,r){let i,o;u(t,ge,t=>r(8,i=t)),u(t,we,t=>r(3,o=t));let{width:s}=n,{height:c}=n,{game:l}=n,a=new ht,h=!1;var p;function d(t,e){return b[t][e]}let b;return p=()=>{r(7,h=!0)},k().$$.on_mount.push(p),function(t){k().$$.on_destroy.push(t)}(()=>{r(7,h=!1),a.unsubscribe()}),t.$set=t=>{r(4,n=e(e({},n),f(t))),"width"in t&&r(0,s=t.width),"height"in t&&r(1,c=t.height),"game"in t&&r(5,l=t.game)},t.$$.update=()=>{3&t.$$.dirty&&r(2,b=ae(s,c)),419&t.$$.dirty&&h&&(r(5,l=new Ae(s,c,d)),l.setMineCount(i),me.next(l))},n=f(n),[s,c,b,o,n,l,function(t,e,n){j[t?"unshift":"push"](()=>{b[e][n]=t,r(2,b),r(0,s),r(1,c)})}]}class Ze extends Q{constructor(t){super(),K(this,t,Qe,Ke,s,{width:0,height:1,game:5})}}function tn(t){let e,n,r;return{c(){e=v("img"),x(e,"aria-label",t[0]),x(e,"alt",n=t[0]+" game"),e.src!==(r="./assets/minesweeper/smiley-"+t[0]+"-small.png")&&x(e,"src",r),x(e,"class","svelte-tv3hb")},m(t,n){d(t,e,n)},p(t,i){1&i&&x(e,"aria-label",t[0]),1&i&&n!==(n=t[0]+" game")&&x(e,"alt",n),1&i&&e.src!==(r="./assets/minesweeper/smiley-"+t[0]+"-small.png")&&x(e,"src",r)},d(t){t&&b(e)}}}function en(t){let e,n;return e=new Se({props:{"aria-label":"Restart",class:"button padded",style:"width: 60px; height: 60px;",$$slots:{default:[tn]},$$scope:{ctx:t}}}),e.$on("click",t[1]),{c(){X(e.$$.fragment)},m(t,r){z(e,t,r),n=!0},p(t,[n]){const r={};17&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function nn(t,e,n){let r,i,o;return u(t,be,t=>n(2,r=t)),u(t,$e,t=>n(3,i=t)),t.$$.update=()=>{12&t.$$.dirty&&n(0,o=r?"click":i)},[o,function(e){T(t,e)}]}class rn extends Q{constructor(t){super(),K(this,t,nn,en,s,{})}}function on(e){let n,r,i,o,s,u;return n=new et({props:{value:21}}),i=new rn({}),i.$on("click",e[3]),s=new et({props:{value:11}}),{c(){X(n.$$.fragment),r=m(),X(i.$$.fragment),o=m(),X(s.$$.fragment)},m(t,e){z(n,t,e),d(t,r,e),z(i,t,e),d(t,o,e),z(s,t,e),u=!0},p:t,i(t){u||(W(n.$$.fragment,t),W(i.$$.fragment,t),W(s.$$.fragment,t),u=!0)},o(t){F(n.$$.fragment,t),F(i.$$.fragment,t),F(s.$$.fragment,t),u=!1},d(t){G(n,t),t&&b(r),G(i,t),t&&b(o),G(s,t)}}}function sn(t){let e,n,r,i,o,s,u,c;function l(e){t[4].call(null,e)}n=new Ie({}),i=new Ne({props:{class:"panel inset padded",$$slots:{default:[on]},$$scope:{ctx:t}}});let a={class:"panel inset",height:t[1],width:t[2]};return void 0!==t[0]&&(a.game=t[0]),s=new Ze({props:a}),j.push(()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(s,"game",l)),{c(){e=v("div"),X(n.$$.fragment),r=m(),X(i.$$.fragment),o=m(),X(s.$$.fragment),x(e,"class","panel outset game padded svelte-1qg7wql")},m(t,u){d(t,e,u),z(n,e,null),p(e,r),z(i,e,null),p(e,o),z(s,e,null),c=!0},p(t,[e]){const n={};33&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const r={};var o;2&e&&(r.height=t[1]),4&e&&(r.width=t[2]),!u&&1&e&&(u=!0,r.game=t[0],o=()=>u=!1,N.push(o)),s.$set(r)},i(t){c||(W(n.$$.fragment,t),W(i.$$.fragment,t),W(s.$$.fragment,t),c=!0)},o(t){F(n.$$.fragment,t),F(i.$$.fragment,t),F(s.$$.fragment,t),c=!1},d(t){t&&b(e),G(n),G(i),G(s)}}}function un(t,e,n){let r,i,o;u(t,ve,t=>n(1,r=t)),u(t,ye,t=>n(2,i=t));return[o,r,i,()=>o.reset(),function(t){o=t,n(0,o)}]}class cn extends Q{constructor(t){super(),K(this,t,un,sn,s,{})}}function ln(e){let n,r;return n=new cn({}),{c(){X(n.$$.fragment)},m(t,e){z(n,t,e),r=!0},p:t,i(t){r||(W(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}return new class extends Q{constructor(t){super(),K(this,t,null,ln,s,{})}}({target:document.body})}();
