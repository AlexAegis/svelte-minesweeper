var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,n,i){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}(n,i))}function s(t,e,n,i){if(t){const r=l(t,e,n,i);return t[0](r)}}function l(t,n,i,r){return t[1]&&r?e(i.ctx.slice(),t[1](r(n))):i.ctx}function a(t,e,n,i,r,o,c){const u=function(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}(e,i,r,o);if(u){const r=l(e,n,i,c);t.p(r,u)}}function h(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function f(t){return null==t?"":t}function d(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function A(){return y(" ")}function g(){return y("")}function I(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t){return""===t?null:+t}function Z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}function R(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function N(t,e,n){t.classList[n?"add":"remove"](e)}let G;function j(t){G=t}function x(){if(!G)throw new Error("Function called outside component initialization");return G}function Y(t){x().$$.on_destroy.push(t)}function W(){const t=x();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);i.slice().forEach((e=>{e.call(t,r)}))}}}function k(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const S=[],O=[],D=[],L=[],T=Promise.resolve();let E=!1;function z(t){D.push(t)}function C(t){L.push(t)}let Q=!1;const J=new Set;function F(){if(!Q){Q=!0;do{for(let t=0;t<S.length;t+=1){const e=S[t];j(e),P(e.$$)}for(j(null),S.length=0;O.length;)O.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];J.has(e)||(J.add(e),e())}D.length=0}while(S.length);for(;L.length;)L.pop()();E=!1,Q=!1,J.clear()}}function P(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const U=new Set;let B;function X(){B={r:0,c:[],p:B}}function H(){B.r||r(B.c),B=B.p}function V(t,e){t&&t.i&&(U.delete(t),t.i(e))}function _(t,e,n,i){if(t&&t.o){if(U.has(t))return;U.add(t),B.c.push((()=>{U.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function K(t,e){t.d(1),e.delete(t.key)}function q(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function tt(t){t&&t.c()}function et(t,e,i,c){const{fragment:u,on_mount:s,on_destroy:l,after_update:a}=t.$$;u&&u.m(e,i),c||z((()=>{const e=s.map(n).filter(o);l?l.push(...e):r(e),t.$$.on_mount=[]})),a.forEach(z)}function nt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){-1===t.$$.dirty[0]&&(S.push(t),E||(E=!0,T.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,n,o,c,u,s,l=[-1]){const a=G;j(e);const h=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:n.context||[]),callbacks:i(),dirty:l,skip_bound:!1};let f=!1;if(h.ctx=o?o(e,n.props||{},((t,n,...i)=>{const r=i.length?i[0]:n;return h.ctx&&u(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),f&&it(e,t)),n})):[],h.update(),f=!0,r(h.before_update),h.fragment=!!c&&c(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(m)}else h.fragment&&h.fragment.c();n.intro&&V(e.$$.fragment),et(e,n.target,n.anchor,n.customElement),F()}j(a)}class ot{$destroy(){nt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ct(t,e){return Math.floor(t+Math.random()*e)}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var ut=function(t,e){return(ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function st(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ut(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function lt(t,e,n,i){return new(n||(n=Promise))((function(r,o){function c(t){try{s(i.next(t))}catch(t){o(t)}}function u(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,u)}s((i=i.apply(t,e||[])).next())}))}function at(t,e){var n,i,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,i=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function ht(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ft(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)c.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return c}function dt(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}function pt(t){return this instanceof pt?(this.v=t,this):new pt(t)}function mt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||u(t,e)}))})}function u(t,e){try{(n=r[t](e)).value instanceof pt?Promise.resolve(n.value.v).then(s,l):a(o[0][2],n)}catch(t){a(o[0][3],t)}var n}function s(t){u("next",t)}function l(t){u("throw",t)}function a(t,e){t(e),o.shift(),o.length&&u(o[0][0],o[0][1])}}function vt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=ht(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,r,(e=t[n](e)).done,e.value)}))}}}function bt(t){return"function"==typeof t}function yt(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var At=yt((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function gt(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var It=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var t,e,n,i,r;if(!this.closed){this.closed=!0;var o=this._parentage;if(Array.isArray(o))try{for(var c=ht(o),u=c.next();!u.done;u=c.next()){u.value.remove(this)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}else null==o||o.remove(this);var s=this.initialTeardown;if(bt(s))try{s()}catch(t){r=t instanceof At?t.errors:[t]}var l=this._teardowns;if(l){this._teardowns=null;try{for(var a=ht(l),h=a.next();!h.done;h=a.next()){var f=h.value;try{Zt(f)}catch(t){r=null!=r?r:[],t instanceof At?r=dt(dt([],ft(r)),ft(t.errors)):r.push(t)}}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}if(r)throw new At(r)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Zt(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&gt(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&gt(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),wt=It.EMPTY;function Mt(t){return t instanceof It||t&&"closed"in t&&bt(t.remove)&&bt(t.add)&&bt(t.unsubscribe)}function Zt(t){bt(t)?t():t.unsubscribe()}var $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Rt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return setTimeout.apply(void 0,dt([],ft(t)))};function Nt(t){Rt((function(){throw t}))}function Gt(){}var jt=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,Mt(e)&&e.add(n)):n.destination=kt,n}return st(e,t),e.create=function(t,e,n){return new xt(t,e,n)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(It),xt=function(t){function e(e,n,i){var r,o=t.call(this)||this;if(bt(e))r=e;else if(e){var c;r=e.next,n=e.error,i=e.complete,o&&$t.useDeprecatedNextContext?(c=Object.create(e)).unsubscribe=function(){return o.unsubscribe()}:c=e,r=null==r?void 0:r.bind(c),n=null==n?void 0:n.bind(c),i=null==i?void 0:i.bind(c)}return o.destination={next:r?Yt(r):Gt,error:Yt(null!=n?n:Wt),complete:i?Yt(i):Gt},o}return st(e,t),e}(jt);function Yt(t,e){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{t.apply(void 0,dt([],ft(e)))}catch(t){Nt(t)}}}function Wt(t){throw t}var kt={closed:!0,next:Gt,error:Wt,complete:Gt},St="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ot(t){return t}function Dt(t){return 0===t.length?Ot:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Lt=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i,r=(i=t)&&i instanceof jt||function(t){return t&&bt(t.next)&&bt(t.error)&&bt(t.complete)}(i)&&Mt(i)?t:new xt(t,e,n),o=this.operator,c=this.source;return r.add(o?o.call(r,c):c?this._subscribe(r):this._trySubscribe(r)),r},t.prototype._deprecatedSyncErrorSubscribe=function(t){var e=t;e._syncErrorHack_isSubscribing=!0;var n=this.operator;if(n)t.add(n.call(t,this.source));else try{this._subscribe(t)}catch(t){e.__syncError=t}for(var i=e;i;){if("__syncError"in i)try{throw i.__syncError}finally{t.unsubscribe()}i=i.destination}e._syncErrorHack_isSubscribing=!1},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Tt(e))((function(e,i){var r;r=n.subscribe((function(e){try{t(e)}catch(t){i(t),null==r||r.unsubscribe()}}),i,e)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[St]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?Dt(t)(this):this},t.prototype.toPromise=function(t){var e=this;return new(t=Tt(t))((function(t,n){var i;e.subscribe((function(t){return i=t}),(function(t){return n(t)}),(function(){return t(i)}))}))},t.create=function(e){return new t(e)},t}();function Tt(t){var e;return null!==(e=null!=t?t:$t.Promise)&&void 0!==e?e:Promise}function Et(t){return function(e){if(function(t){return bt(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var zt=function(t){function e(e,n,i,r,o){var c=t.call(this,e)||this;return c.onFinalize=o,c._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,c._error=r?function(t){try{r(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=i?function(){try{i()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,c}return st(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(jt),Ct=yt((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Qt=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return st(e,t),e.prototype.lift=function(t){var e=new Jt(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new Ct},e.prototype.next=function(t){var e,n;if(this._throwIfClosed(),!this.isStopped){var i=this.observers.slice();try{for(var r=ht(i),o=r.next();!o.done;o=r.next()){o.value.next(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},e.prototype.error=function(t){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;for(var e=this.observers;e.length;)e.shift().error(t)}},e.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var t=this.observers;t.length;)t.shift().complete()}},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=e.hasError,i=e.isStopped,r=e.observers;return n||i?wt:(r.push(t),new It((function(){return gt(r,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,i=e.thrownError,r=e.isStopped;n?t.error(i):r&&t.complete()},e.prototype.asObservable=function(){var t=new Lt;return t.source=this,t},e.create=function(t,e){return new Jt(t,e)},e}(Lt),Jt=function(t){function e(e,n){var i=t.call(this)||this;return i.destination=e,i.source=n,i}return st(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:wt},e}(Qt),Ft=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return st(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){var t=this,e=t.hasError,n=t.thrownError,i=t._value;if(e)throw n;return this._throwIfClosed(),i},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Qt),Pt={now:function(){return(Pt.delegate||Date).now()},delegate:void 0},Ut=function(t){function e(e,n,i){void 0===e&&(e=1/0),void 0===n&&(n=1/0),void 0===i&&(i=Pt);var r=t.call(this)||this;return r._bufferSize=e,r._windowTime=n,r._timestampProvider=i,r._buffer=[],r._infiniteTimeWindow=!0,r._infiniteTimeWindow=n===1/0,r._bufferSize=Math.max(1,e),r._windowTime=Math.max(1,n),r}return st(e,t),e.prototype.next=function(e){var n=this,i=n.isStopped,r=n._buffer,o=n._infiniteTimeWindow,c=n._timestampProvider,u=n._windowTime;i||(r.push(e),!o&&r.push(c.now()+u)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this._infiniteTimeWindow,i=this._buffer.slice(),r=0;r<i.length&&!t.closed;r+=n?1:2)t.next(i[r]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this,e=t._bufferSize,n=t._timestampProvider,i=t._buffer,r=t._infiniteTimeWindow,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){for(var c=n.now(),u=0,s=1;s<i.length&&i[s]<=c;s+=2)u=s;u&&i.splice(0,u+1)}},e}(Qt),Bt=function(t){function e(e,n){return t.call(this)||this}return st(e,t),e.prototype.schedule=function(t,e){return this},e}(It),Xt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return setInterval.apply(void 0,dt([],ft(t)))},Ht=function(t){return clearInterval(t)},Vt=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return st(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),Xt(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;Ht(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,i=!1;try{this.work(t)}catch(t){i=!0,n=!!t&&t||new Error(t)}if(i)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,i=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,gt(i,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Bt),_t=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=Pt.now,t}(),Kt=new(function(t){function e(e,n){void 0===n&&(n=_t.now);var i=t.call(this,e,n)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return st(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(_t))(Vt),qt=Kt,te=new Lt((function(t){return t.complete()}));function ee(t,e){return new Lt((function(n){var i=0;return e.schedule((function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())}))}))}var ne=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function ie(t){return bt(null==t?void 0:t.then)}var re="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function oe(t,e){if(!t)throw new Error("Iterable cannot be null");return new Lt((function(n){var i=new It;return i.add(e.schedule((function(){var r=t[Symbol.asyncIterator]();i.add(e.schedule((function(){var t=this;r.next().then((function(e){e.done?n.complete():(n.next(e.value),t.schedule())}))})))}))),i}))}function ce(t){return bt(t[St])}function ue(t){return bt(null==t?void 0:t[re])}function se(t){return Symbol.asyncIterator&&bt(null==t?void 0:t[Symbol.asyncIterator])}function le(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function ae(t){return mt(this,arguments,(function(){var e,n,i;return at(this,(function(r){switch(r.label){case 0:e=t.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,pt(e.read())];case 3:return n=r.sent(),i=n.value,n.done?[4,pt(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,pt(i)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function he(t){return bt(null==t?void 0:t.getReader)}function fe(t,e){if(null!=t){if(ce(t))return function(t,e){return new Lt((function(n){var i=new It;return i.add(e.schedule((function(){var r=t[St]();i.add(r.subscribe({next:function(t){i.add(e.schedule((function(){return n.next(t)})))},error:function(t){i.add(e.schedule((function(){return n.error(t)})))},complete:function(){i.add(e.schedule((function(){return n.complete()})))}}))}))),i}))}(t,e);if(ne(t))return ee(t,e);if(ie(t))return function(t,e){return new Lt((function(n){return e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){n.next(t),n.add(e.schedule((function(){return n.complete()})))})))}),(function(t){n.add(e.schedule((function(){return n.error(t)})))}))}))}))}(t,e);if(se(t))return oe(t,e);if(ue(t))return function(t,e){return new Lt((function(n){var i;return n.add(e.schedule((function(){i=t[re](),function(t,e,n,i){void 0===i&&(i=0);var r=e.schedule((function(){try{n.call(this)}catch(e){t.error(e)}}),i);t.add(r)}(n,e,(function(){var t=i.next(),e=t.value;t.done?n.complete():(n.next(e),this.schedule())}))}))),function(){return bt(null==i?void 0:i.return)&&i.return()}}))}(t,e);if(he(t))return function(t,e){return oe(ae(t),e)}(t,e)}throw le(t)}function de(t,e){return e?fe(t,e):pe(t)}function pe(t){if(t instanceof Lt)return t;if(null!=t){if(ce(t))return i=t,new Lt((function(t){var e=i[St]();if(bt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(ne(t))return me(t);if(ie(t))return n=t,new Lt((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Nt)}));if(se(t))return ve(t);if(ue(t))return e=t,new Lt((function(t){var n,i;try{for(var r=ht(e),o=r.next();!o.done;o=r.next()){var c=o.value;if(t.next(c),t.closed)return}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}t.complete()}));if(he(t))return ve(ae(t))}var e,n,i;throw le(t)}function me(t){return new Lt((function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()}))}function ve(t){return new Lt((function(e){(function(t,e){var n,i,r,o;return lt(this,void 0,void 0,(function(){var c,u;return at(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),n=vt(t),s.label=1;case 1:return[4,n.next()];case 2:if((i=s.sent()).done)return[3,4];if(c=i.value,e.next(c),e.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=s.sent(),r={error:u},[3,11];case 6:return s.trys.push([6,,9,10]),i&&!i.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function be(t,e){return e?ee(t,e):me(t)}function ye(t){return t&&bt(t.schedule)}function Ae(t){return t[t.length-1]}function ge(t){return bt(Ae(t))?t.pop():void 0}function Ie(t){return ye(Ae(t))?t.pop():void 0}function we(t,e){return"number"==typeof Ae(t)?t.pop():e}function Me(t,e){return Et((function(n,i){var r=0;n.subscribe(new zt(i,(function(n){i.next(t.call(e,n,r++))})))}))}var Ze=Array.isArray;function $e(t){return Me((function(e){return function(t,e){return Ze(e)?t.apply(void 0,dt([],ft(e))):t(e)}(t,e)}))}var Re=Array.isArray,Ne=Object.getPrototypeOf,Ge=Object.prototype,je=Object.keys;function xe(t){if(1===t.length){var e=t[0];if(Re(e))return{args:e,keys:null};if((i=e)&&"object"==typeof i&&Ne(i)===Ge){var n=je(e);return{args:n.map((function(t){return e[t]})),keys:n}}}var i;return{args:t,keys:null}}function Ye(t,e){return t.reduce((function(t,n,i){return t[n]=e[i],t}),{})}function We(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ie(t),i=ge(t),r=xe(t),o=r.args,c=r.keys;if(0===o.length)return de([],n);var u=new Lt(ke(o,n,c?function(t){return Ye(c,t)}:Ot));return i?u.pipe($e(i)):u}function ke(t,e,n){return void 0===n&&(n=Ot),function(i){Se(e,(function(){for(var r=t.length,o=new Array(r),c=r,u=r,s=function(r){Se(e,(function(){var s=de(t[r],e),l=!1;s.subscribe(new zt(i,(function(t){o[r]=t,l||(l=!0,u--),u||i.next(n(o.slice()))}),(function(){--c||i.complete()})))}),i)},l=0;l<r;l++)s(l)}),i)}}function Se(t,e,n){t?n.add(t.schedule(e)):e()}function Oe(t,e,n){return void 0===n&&(n=1/0),bt(e)?Oe((function(n,i){return Me((function(t,r){return e(n,t,i,r)}))(pe(t(n,i)))}),n):("number"==typeof e&&(n=e),Et((function(e,i){return function(t,e,n,i,r,o,c,u){var s=[],l=0,a=0,h=!1,f=function(){!h||s.length||l||e.complete()},d=function(t){return l<i?p(t):s.push(t)},p=function(t){o&&e.next(t),l++;var u=!1;pe(n(t,a++)).subscribe(new zt(e,(function(t){null==r||r(t),o?d(t):e.next(t)}),(function(){u=!0}),void 0,(function(){if(u)try{l--;for(var t=function(){var t=s.shift();c?e.add(c.schedule((function(){return p(t)}))):p(t)};s.length&&l<i;)t();f()}catch(t){e.error(t)}})))};return t.subscribe(new zt(e,d,(function(){h=!0,f()}))),function(){null==u||u()}}(e,i,t,n)})))}function De(t){return void 0===t&&(t=1/0),Oe(Ot,t)}function Le(){return De(1)}function Te(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Le()(be(t,Ie(t)))}var Ee=["addListener","removeListener"],ze=["addEventListener","removeEventListener"],Ce=["on","off"];function Qe(t,e){return function(n){return function(i){return t[n](e,i)}}}function Je(t,e,n){void 0===t&&(t=0),void 0===n&&(n=qt);var i=-1;return null!=e&&(ye(e)?n=e:i=e),new Lt((function(e){var r,o=(r=t)instanceof Date&&!isNaN(r)?+t-n.now():t;o<0&&(o=0);var c=0;return n.schedule((function(){e.closed||(e.next(c++),0<=i?this.schedule(void 0,i):e.complete())}),o)}))}function Fe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ie(t),i=we(t,1/0),r=t;return r.length?1===r.length?pe(r[0]):De(i)(be(r,n)):te}function Pe(t,e){return Et((function(n,i){var r=0;n.subscribe(new zt(i,(function(n){return t.call(e,n,r++)&&i.next(n)})))}))}class Ue extends Ft{set(t){super.next(t)}}function Be(e){let n,i,r,o,c,u,s,l,a,h,f,v,y,g;return{c(){n=b("div"),i=b("span"),r=A(),o=b("span"),c=A(),u=b("span"),s=A(),l=b("span"),a=A(),h=b("span"),f=A(),v=b("span"),y=A(),g=b("span"),R(i,"grid-column","2"),R(i,"grid-row","1"),w(i,"class","segment-horizontal segment-top off svelte-1j1xaio"),N(i,"on",0===e[0]||2===e[0]||3===e[0]||e[0]>=5),R(o,"grid-column","1"),R(o,"grid-row","2"),w(o,"class","segment-vertical segment-left off svelte-1j1xaio"),N(o,"on",0===e[0]||e[0]>=4&&e[0]<=6||e[0]>=8||9===e[0]),R(u,"grid-column","3"),R(u,"grid-row","2"),w(u,"class","segment-vertical segment-right off svelte-1j1xaio"),N(u,"on",e[0]<=4||e[0]>=7),R(l,"grid-column","2"),R(l,"grid-row","3"),w(l,"class","segment-horizontal segment-center off svelte-1j1xaio"),N(l,"on",isNaN(e[0])||e[0]>=2&&e[0]<=6||e[0]>=8),R(h,"grid-column","1"),R(h,"grid-row","4"),w(h,"class","segment-vertical segment-left off svelte-1j1xaio"),N(h,"on",0===e[0]||2===e[0]||6===e[0]||8===e[0]),R(v,"grid-column","3"),R(v,"grid-row","4"),w(v,"class","segment-vertical segment-right off svelte-1j1xaio"),N(v,"on",e[0]<=1||e[0]>=3),R(g,"grid-column","2"),R(g,"grid-row","5"),w(g,"class","segment-horizontal segment-bottom off svelte-1j1xaio"),N(g,"on",!isNaN(e[0])&&1!==e[0]&&4!==e[0]&&7!==e[0]),w(n,"class","svelte-1j1xaio")},m(t,e){p(t,n,e),d(n,i),d(n,r),d(n,o),d(n,c),d(n,u),d(n,s),d(n,l),d(n,a),d(n,h),d(n,f),d(n,v),d(n,y),d(n,g)},p(t,[e]){1&e&&N(i,"on",0===t[0]||2===t[0]||3===t[0]||t[0]>=5),1&e&&N(o,"on",0===t[0]||t[0]>=4&&t[0]<=6||t[0]>=8||9===t[0]),1&e&&N(u,"on",t[0]<=4||t[0]>=7),1&e&&N(l,"on",isNaN(t[0])||t[0]>=2&&t[0]<=6||t[0]>=8),1&e&&N(h,"on",0===t[0]||2===t[0]||6===t[0]||8===t[0]),1&e&&N(v,"on",t[0]<=1||t[0]>=3),1&e&&N(g,"on",!isNaN(t[0])&&1!==t[0]&&4!==t[0]&&7!==t[0])},i:t,o:t,d(t){t&&m(n)}}}function Xe(t,e,n){let i,{value:r}=e;return t.$$set=t=>{"value"in t&&n(1,r=t.value)},t.$$.update=()=>{2&t.$$.dirty&&n(0,i=r%10)},[i,r]}class He extends ot{constructor(t){super(),rt(this,t,Xe,Be,c,{value:1})}}function Ve(t,e,n){const i=t.slice();return i[3]=e[n],i}function _e(t){let e,n;return e=new He({props:{value:t[3]}}),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.value=t[3]),e.$set(i)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function Ke(t){let e,n,i=t[0],r=[];for(let e=0;e<i.length;e+=1)r[e]=_e(Ve(t,i,e));const o=t=>_(r[t],1,1,(()=>{r[t]=null}));return{c(){e=b("div");for(let t=0;t<r.length;t+=1)r[t].c();w(e,"class","panel inset svelte-1d1e8z9")},m(t,i){p(t,e,i);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){if(1&n){let c;for(i=t[0],c=0;c<i.length;c+=1){const o=Ve(t,i,c);r[c]?(r[c].p(o,n),V(r[c],1)):(r[c]=_e(o),r[c].c(),V(r[c],1),r[c].m(e,null))}for(X(),c=i.length;c<r.length;c+=1)o(c);H()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)V(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)_(r[t]);n=!1},d(t){t&&m(e),v(r,t)}}}function qe(t,e,n){let i,{value:r}=e,{paddedLength:o=3}=e;return t.$$set=t=>{"value"in t&&n(1,r=t.value),"paddedLength"in t&&n(2,o=t.paddedLength)},t.$$.update=()=>{6&t.$$.dirty&&n(0,i=function(t,e,n){for(;t.length<e;)t.unshift(n);return t}((null!=r?r:0).toString().split("").map((t=>parseInt(t,10))),o,0))},[i,r,o]}class tn extends ot{constructor(t){super(),rt(this,t,qe,Ke,c,{value:1,paddedLength:2})}}function en(t,e,n,i,r){return function(o,c){var u=n,s=e,l=0;o.subscribe(new zt(c,(function(e){var n=l++;s=u?t(s,e,n):(u=!0,e),i&&c.next(s)}),r&&function(){u&&c.next(s),c.complete()}))}}function nn(t){return Et((function(e,n){e.subscribe(new zt(n,(function(){return n.next(t)})))}))}function rn(t,e){return void 0===e&&(e=Ot),t=null!=t?t:on,Et((function(n,i){var r,o=!0;n.subscribe(new zt(i,(function(n){var c=e(n);!o&&t(r,c)||(o=!1,r=c,i.next(n))})))}))}function on(t,e){return t===e}function cn(t,e){return Et((function(n,i){var r=null,o=0,c=!1,u=function(){return c&&!r&&i.complete()};n.subscribe(new zt(i,(function(n){null==r||r.unsubscribe();var c=0,s=o++;pe(t(n,s)).subscribe(r=new zt(i,(function(t){return i.next(e?e(n,t,s,c++):t)}),(function(){r=null,u()})))}),(function(){c=!0,u()})))}))}var un={leading:!0,trailing:!1};const sn=new Qt,ln=function t(e,n,i,r){if(bt(i)&&(r=i,i=void 0),r)return t(e,n,i).pipe($e(r));var o=ft(function(t){return bt(t.addEventListener)&&bt(t.removeEventListener)}(e)?ze.map((function(t){return function(r){return e[t](n,r,i)}})):function(t){return bt(t.addListener)&&bt(t.removeListener)}(e)?Ee.map(Qe(e,n)):function(t){return bt(t.on)&&bt(t.off)}(e)?Ce.map(Qe(e,n)):[],2),c=o[0],u=o[1];if(!c&&ne(e))return Oe((function(e){return t(e,n,i)}))(be(e));if(!c)throw new TypeError("Invalid event target");return new Lt((function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return c(e),function(){return u(e)}}))}(document,"mouseup"),an=Fe(sn,ln.pipe(nn(void 0))),hn={beginner:{width:9,height:9,mineCount:10},intermediate:{width:16,height:16,mineCount:40},expert:{width:30,height:16,mineCount:99}},fn=new Ue(hn.beginner.width),dn=new Ue(hn.beginner.height),pn=new Ue(hn.beginner.mineCount),mn=We([fn,dn,pn]).pipe(function(t,e,n){void 0===e&&(e=Kt),void 0===n&&(n=un);var i,r,o,c,u,s=Je(t,e);return i=function(){return s},c=(o=void 0===(r=n)?un:r).leading,u=o.trailing,Et((function(t,e){var n=!1,r=null,o=null,s=!1,l=function(){null==o||o.unsubscribe(),o=null,u&&(f(),s&&e.complete())},a=function(){o=null,s&&e.complete()},h=function(t){return o=pe(i(t)).subscribe(new zt(e,l,a))},f=function(){if(n){n=!1;var t=r;r=null,e.next(t),!s&&h(t)}};t.subscribe(new zt(e,(function(t){n=!0,r=t,(!o||o.closed)&&(c?f():h(t))}),(function(){s=!0,(!(u&&n&&o)||o.closed)&&e.complete()})))}))}(50,Kt,{leading:!0,trailing:!0}),Me((([t,e,n])=>({width:t,height:e,mineCount:n})))),vn=new Ue(void 0),bn=vn.pipe(Pe((t=>!!t))),yn=bn.pipe(cn((t=>t.gamestate$))),An=bn.pipe(cn((t=>t.elapsedTime$))),gn=bn.pipe(cn((t=>t.isEnded$))),In=bn.pipe(cn((t=>t.isWon$))),wn=bn.pipe(cn((t=>t.remainingMines$))),Mn=In.pipe(Pe(Ot),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ge(t);return Et((function(e,i){for(var r=t.length,o=new Array(r),c=t.map((function(){return!1})),u=!1,s=function(e){pe(t[e]).subscribe(new zt(i,(function(t){o[e]=t,u||c[e]||(c[e]=!0,(u=c.every(Ot))&&(c=null))}),Gt))},l=0;l<r;l++)s(l);e.subscribe(new zt(i,(function(t){if(u){var e=dt([t],ft(o));i.next(n?n.apply(void 0,dt([],ft(e))):e)}})))}))}(An,fn,dn,pn),Me((([,t,e,n,i],r)=>({time:t,width:e,height:n,mineCount:i,id:r}))),function(t,e){return Et(en(t,e,arguments.length>=2,!0))}(((t,e)=>(t.push(e),t.sort(((t,e)=>t.time-e.time)),t)),[]),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ie(t);return Et((function(e,i){(n?Te(t,e,n):Te(t,e)).subscribe(i)}))}([]),(xn=!1,(Zn={refCount:!0,bufferSize:1})&&"object"==typeof Zn?(jn=null!==(Nn=Zn.bufferSize)&&void 0!==Nn?Nn:1/0,$n=null!==(Gn=Zn.windowTime)&&void 0!==Gn?Gn:1/0,xn=!!Zn.refCount,Rn=Zn.scheduler):jn=null!=Zn?Zn:1/0,function(t){var e=(t=t||{}).connector,n=void 0===e?function(){return new Qt}:e,i=t.resetOnComplete,r=void 0===i||i,o=t.resetOnError,c=void 0===o||o,u=t.resetOnRefCountZero,s=void 0===u||u,l=null,a=null,h=0,f=!1,d=!1,p=function(){l=a=null,f=d=!1};return Et((function(t,e){return h++,(a=null!=a?a:n()).subscribe(e),l||(l=new xt({next:function(t){return a.next(t)},error:function(t){d=!0;var e=a;c&&p(),e.error(t)},complete:function(){f=!0;var t=a;r&&p(),t.complete()}}),de(t).subscribe(l)),function(){if(h--,s&&!h&&!d&&!f){var t=l;p(),null==t||t.unsubscribe()}}}))}({connector:function(){return new Ut(jn,$n,Rn)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:xn})));var Zn,$n,Rn,Nn,Gn,jn,xn;We([fn,dn]).pipe(Me((([t,e])=>({width:t,height:e}))));const Yn={0:"#000000",1:"#0000ff",2:"#008100",3:"#ff1300",4:"#000083",5:"#810500",6:"#2a9494",7:"#000000",8:"#808080"};var Wn,kn;function Sn(t,e){return t&&e&&t.height===e.height&&t.width===e.width&&t.mineCount===e.mineCount}function On(t){let e,n,i,o,c,u,l,h;const f=t[4].default,d=s(f,t,t[3],null);return{c(){e=b("button"),d&&d.c(),w(e,"class",n="button "+t[2].class+" svelte-1e59qld"),w(e,"aria-label",i=t[2]["aria-label"]),w(e,"style",o=t[2].style),e.disabled=c=t[2].disabled,N(e,"inset",!0===t[0])},m(n,i){p(n,e,i),d&&d.m(e,null),u=!0,l||(h=[I(e,"mousedown",t[1]),I(e,"contextmenu",t[5]),I(e,"click",t[6])],l=!0)},p(t,[r]){d&&d.p&&(!u||8&r)&&a(d,f,t,t[3],r,null,null),(!u||4&r&&n!==(n="button "+t[2].class+" svelte-1e59qld"))&&w(e,"class",n),(!u||4&r&&i!==(i=t[2]["aria-label"]))&&w(e,"aria-label",i),(!u||4&r&&o!==(o=t[2].style))&&w(e,"style",o),(!u||4&r&&c!==(c=t[2].disabled))&&(e.disabled=c),5&r&&N(e,"inset",!0===t[0])},i(t){u||(V(d,t),u=!0)},o(t){_(d,t),u=!1},d(t){t&&m(e),d&&d.d(t),l=!1,r(h)}}}function Dn(t,n,i){let{$$slots:r={},$$scope:o}=n;const c=W();let{mousedown:u=!1}=n;const s=ln.subscribe((t=>{t&&i(0,u=!1)}));return Y((()=>s.unsubscribe())),t.$$set=t=>{i(2,n=e(e({},n),h(t))),"mousedown"in t&&i(0,u=t.mousedown),"$$scope"in t&&i(3,o=t.$$scope)},n=h(n),[u,function(t){c("mousedown"),0===t.button&&i(0,u=!0)},n,o,r,function(e){k(t,e)},function(e){k(t,e)}]}!function(t){t.BEGINNER="beginner",t.INTERMEDIATE="intermediate",t.EXPERT="expert"}(Wn||(Wn={}));class Ln extends ot{constructor(t){super(),rt(this,t,Dn,On,c,{mousedown:0})}}function Tn(t,e,n){const i=t.slice();return i[9]=e[n][0],i[10]=e[n][1],i}function En(e){let n,i=e[9]+"";return{c(){n=y(i)},m(t,e){p(t,n,e)},p:t,d(t){t&&m(n)}}}function zn(t){let e,n;return e=new Ln({props:{$$slots:{default:[En]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[4](t[10])})),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},p(n,i){t=n;const r={};8192&i&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function Cn(t){let e,n,i,o,c,u,s,l,a,h,f,y,g,Z,R,N,G,j=Object.entries(hn),x=[];for(let e=0;e<j.length;e+=1)x[e]=zn(Tn(t,j,e));const Y=t=>_(x[t],1,1,(()=>{x[t]=null}));return{c(){e=b("div");for(let t=0;t<x.length;t+=1)x[t].c();n=A(),i=b("label"),i.textContent="Width:",o=A(),c=b("input"),u=A(),s=b("label"),s.textContent="Height:",l=A(),a=b("input"),h=A(),f=b("label"),f.textContent="Mine count:",y=A(),g=b("input"),w(i,"for","width"),w(c,"name","width"),w(c,"type","number"),w(c,"max","999"),w(c,"min","2"),w(s,"for","height"),w(a,"name","height"),w(a,"type","number"),w(a,"max","999"),w(a,"min","2"),w(f,"for","mineCount"),w(g,"name","mineCount"),w(g,"type","number"),w(g,"max",Z=t[0]*t[1]-1),w(g,"min","1"),w(e,"class","svelte-17dpzqc")},m(r,m){p(r,e,m);for(let t=0;t<x.length;t+=1)x[t].m(e,null);d(e,n),d(e,i),d(e,o),d(e,c),$(c,t[0]),d(e,u),d(e,s),d(e,l),d(e,a),$(a,t[1]),d(e,h),d(e,f),d(e,y),d(e,g),$(g,t[2]),R=!0,N||(G=[I(c,"input",t[5]),I(a,"input",t[6]),I(g,"input",t[7])],N=!0)},p(t,[i]){if(8&i){let r;for(j=Object.entries(hn),r=0;r<j.length;r+=1){const o=Tn(t,j,r);x[r]?(x[r].p(o,i),V(x[r],1)):(x[r]=zn(o),x[r].c(),V(x[r],1),x[r].m(e,n))}for(X(),r=j.length;r<x.length;r+=1)Y(r);H()}1&i&&M(c.value)!==t[0]&&$(c,t[0]),2&i&&M(a.value)!==t[1]&&$(a,t[1]),(!R||3&i&&Z!==(Z=t[0]*t[1]-1))&&w(g,"max",Z),4&i&&M(g.value)!==t[2]&&$(g,t[2])},i(t){if(!R){for(let t=0;t<j.length;t+=1)V(x[t]);R=!0}},o(t){x=x.filter(Boolean);for(let t=0;t<x.length;t+=1)_(x[t]);R=!1},d(t){t&&m(e),v(x,t),N=!1,r(G)}}}function Qn(t,e,n){const i=W();let{width:r}=e,{height:o}=e,{mineCount:c}=e;function u(t){n(0,r=t.width),n(1,o=t.height),n(2,c=t.mineCount),i("done")}return t.$$set=t=>{"width"in t&&n(0,r=t.width),"height"in t&&n(1,o=t.height),"mineCount"in t&&n(2,c=t.mineCount)},t.$$.update=()=>{7&t.$$.dirty&&c>r*o-1&&n(2,c=r*o-1)},[r,o,c,u,t=>u(t),function(){r=M(this.value),n(0,r)},function(){o=M(this.value),n(1,o)},function(){c=M(this.value),n(2,c),n(0,r),n(1,o)}]}class Jn extends ot{constructor(t){super(),rt(this,t,Qn,Cn,c,{width:0,height:1,mineCount:2})}}function Fn(t,e,n){const i=t.slice();return i[1]=e[n],i}function Pn(t){let e;return{c(){e=y("No games played yet!")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Un(t){let e,n,i,r,o,c,u,s,l,a,h=t[1].time+"",f=t[1].height+"",v=t[1].width+"",A=t[1].mineCount+"";return{c(){e=b("li"),n=y("Custom: "),i=y(h),r=y("s ("),o=y(f),c=y(" * "),u=y(v),s=y(", "),l=y(A),a=y(" mines)")},m(t,h){p(t,e,h),d(e,n),d(e,i),d(e,r),d(e,o),d(e,c),d(e,u),d(e,s),d(e,l),d(e,a)},p(t,e){1&e&&h!==(h=t[1].time+"")&&Z(i,h),1&e&&f!==(f=t[1].height+"")&&Z(o,f),1&e&&v!==(v=t[1].width+"")&&Z(u,v),1&e&&A!==(A=t[1].mineCount+"")&&Z(l,A)},d(t){t&&m(e)}}}function Bn(t){let e,n,i,r,o=t[1].time+"";return{c(){e=b("li"),n=y("Expert: "),i=y(o),r=y("s")},m(t,o){p(t,e,o),d(e,n),d(e,i),d(e,r)},p(t,e){1&e&&o!==(o=t[1].time+"")&&Z(i,o)},d(t){t&&m(e)}}}function Xn(t){let e,n,i,r,o=t[1].time+"";return{c(){e=b("li"),n=y("Intermediate: "),i=y(o),r=y("s")},m(t,o){p(t,e,o),d(e,n),d(e,i),d(e,r)},p(t,e){1&e&&o!==(o=t[1].time+"")&&Z(i,o)},d(t){t&&m(e)}}}function Hn(t){let e,n,i,r,o=t[1].time+"";return{c(){e=b("li"),n=y("Beginner: "),i=y(o),r=y("s")},m(t,o){p(t,e,o),d(e,n),d(e,i),d(e,r)},p(t,e){1&e&&o!==(o=t[1].time+"")&&Z(i,o)},d(t){t&&m(e)}}}function Vn(t,e){let n,i,r,o,c;function u(t,e){return(null==i||1&e)&&(i=!!Sn(t[1],hn.beginner)),i?Hn:((null==r||1&e)&&(r=!!Sn(t[1],hn.intermediate)),r?Xn:((null==o||1&e)&&(o=!!Sn(t[1],hn.expert)),o?Bn:Un))}let s=u(e,-1),l=s(e);return{key:t,first:null,c(){n=g(),l.c(),c=g(),this.first=n},m(t,e){p(t,n,e),l.m(t,e),p(t,c,e)},p(t,n){s===(s=u(e=t,n))&&l?l.p(e,n):(l.d(1),l=s(e),l&&(l.c(),l.m(c.parentNode,c)))},d(t){t&&m(n),l.d(t),t&&m(c)}}}function _n(e){let n,i=[],r=new Map,o=e[0];const c=t=>t[1].id;for(let t=0;t<o.length;t+=1){let n=Fn(e,o,t),u=c(n);r.set(u,i[t]=Vn(u,n))}let u=null;return o.length||(u=Pn()),{c(){n=b("ol");for(let t=0;t<i.length;t+=1)i[t].c();u&&u.c()},m(t,e){p(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null);u&&u.m(n,null)},p(t,[e]){1&e&&(o=t[0],i=function(t,e,n,i,r,o,c,u,s,l,a,h){let f=t.length,d=o.length,p=f;const m={};for(;p--;)m[t[p].key]=p;const v=[],b=new Map,y=new Map;for(p=d;p--;){const t=h(r,o,p),u=n(t);let s=c.get(u);s?i&&s.p(t,e):(s=l(u,t),s.c()),b.set(u,v[p]=s),u in m&&y.set(u,Math.abs(p-m[u]))}const A=new Set,g=new Set;function I(t){V(t,1),t.m(u,a),c.set(t.key,t),a=t.first,d--}for(;f&&d;){const e=v[d-1],n=t[f-1],i=e.key,r=n.key;e===n?(a=e.first,f--,d--):b.has(r)?!c.has(i)||A.has(i)?I(e):g.has(r)?f--:y.get(i)>y.get(r)?(g.add(i),I(e)):(A.add(r),f--):(s(n,c),f--)}for(;f--;){const e=t[f];b.has(e.key)||s(e,c)}for(;d;)I(v[d-1]);return v}(i,e,c,1,t,o,r,n,K,Vn,null,Fn),o.length?u&&(u.d(1),u=null):u||(u=Pn(),u.c(),u.m(n,null)))},i:t,o:t,d(t){t&&m(n);for(let t=0;t<i.length;t+=1)i[t].d();u&&u.d()}}}function Kn(t,e,n){let i;return u(t,Mn,(t=>n(0,i=t))),[i]}class qn extends ot{constructor(t){super(),rt(this,t,Kn,_n,c,{})}}function ti(t){let e,n,i,r,o,c,u,l,h,f,v,g,M,$;c=new Ln({props:{style:"margin-left: auto;",class:"button","aria-label":"Close",$$slots:{default:[ei]},$$scope:{ctx:t}}}),c.$on("click",t[2]);const R=t[5].default,N=s(R,t,t[6],null);return{c(){e=b("div"),n=b("div"),i=b("span"),r=y(t[1]),o=A(),tt(c.$$.fragment),u=A(),N&&N.c(),f=A(),v=b("div"),w(n,"class","top svelte-1i929e7"),w(e,"style",l=t[3].style),w(e,"class",h="panel outset "+t[3].class+" svelte-1i929e7"),w(v,"class","backdrop svelte-1i929e7")},m(s,l){p(s,e,l),d(e,n),d(n,i),d(i,r),d(n,o),et(c,n,null),d(e,u),N&&N.m(e,null),p(s,f,l),p(s,v,l),g=!0,M||($=I(v,"click",t[2]),M=!0)},p(t,n){(!g||2&n)&&Z(r,t[1]);const i={};64&n&&(i.$$scope={dirty:n,ctx:t}),c.$set(i),N&&N.p&&(!g||64&n)&&a(N,R,t,t[6],n,null,null),(!g||8&n&&l!==(l=t[3].style))&&w(e,"style",l),(!g||8&n&&h!==(h="panel outset "+t[3].class+" svelte-1i929e7"))&&w(e,"class",h)},i(t){g||(V(c.$$.fragment,t),V(N,t),g=!0)},o(t){_(c.$$.fragment,t),_(N,t),g=!1},d(t){t&&m(e),nt(c),N&&N.d(t),t&&m(f),t&&m(v),M=!1,$()}}}function ei(t){let e;return{c(){e=y("X")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function ni(t){let e,n,i=t[0]&&ti(t);return{c(){i&&i.c(),e=g()},m(t,r){i&&i.m(t,r),p(t,e,r),n=!0},p(t,[n]){t[0]?i?(i.p(t,n),1&n&&V(i,1)):(i=ti(t),i.c(),V(i,1),i.m(e.parentNode,e)):i&&(X(),_(i,1,1,(()=>{i=null})),H())},i(t){n||(V(i),n=!0)},o(t){_(i),n=!1},d(t){i&&i.d(t),t&&m(e)}}}function ii(t,n,i){let{$$slots:r={},$$scope:o}=n,{title:c}=n,{isOpen:u=!1}=n;return t.$$set=t=>{i(3,n=e(e({},n),h(t))),"title"in t&&i(1,c=t.title),"isOpen"in t&&i(0,u=t.isOpen),"$$scope"in t&&i(6,o=t.$$scope)},n=h(n),[u,c,function(){i(0,u=!1)},n,function(){i(0,u=!0)},r,o]}class ri extends ot{constructor(t){super(),rt(this,t,ii,ni,c,{title:1,isOpen:0,open:4,close:2})}get open(){return this.$$.ctx[4]}get close(){return this.$$.ctx[2]}}function oi(t){let e;return{c(){e=y("settings")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function ci(t){let e;return{c(){e=y("highscore")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function ui(t){let e;return{c(){e=y("github")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function si(t){let e,n,i,r,o;function c(e){t[8](e)}function u(e){t[9](e)}function s(e){t[10](e)}let l={};return void 0!==t[2]&&(l.width=t[2]),void 0!==t[3]&&(l.height=t[3]),void 0!==t[4]&&(l.mineCount=t[4]),e=new Jn({props:l}),O.push((()=>q(e,"width",c))),O.push((()=>q(e,"height",u))),O.push((()=>q(e,"mineCount",s))),e.$on("done",t[11]),{c(){tt(e.$$.fragment)},m(t,n){et(e,t,n),o=!0},p(t,o){const c={};!n&&4&o&&(n=!0,c.width=t[2],C((()=>n=!1))),!i&&8&o&&(i=!0,c.height=t[3],C((()=>i=!1))),!r&&16&o&&(r=!0,c.mineCount=t[4],C((()=>r=!1))),e.$set(c)},i(t){o||(V(e.$$.fragment,t),o=!0)},o(t){_(e.$$.fragment,t),o=!1},d(t){nt(e,t)}}}function li(t){let e,n;return e=new qn({}),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function ai(t){let e,n,i,r,o,c,u,s,l,a,h;return n=new Ln({props:{style:"margin: 1px; border-style: none;",$$slots:{default:[oi]},$$scope:{ctx:t}}}),n.$on("click",t[5]),r=new Ln({props:{style:"margin: 1px; border-style: none;",$$slots:{default:[ci]},$$scope:{ctx:t}}}),r.$on("click",t[6]),c=new Ln({props:{style:"margin-left:auto; border-style: none;",$$slots:{default:[ui]},$$scope:{ctx:t}}}),c.$on("click",t[7]),s=new ri({props:{title:"Settings",$$slots:{default:[si]},$$scope:{ctx:t}}}),t[12](s),a=new ri({props:{title:"Highscore",style:" width: 300px; height: 400px;",$$slots:{default:[li]},$$scope:{ctx:t}}}),t[13](a),{c(){e=b("div"),tt(n.$$.fragment),i=A(),tt(r.$$.fragment),o=A(),tt(c.$$.fragment),u=A(),tt(s.$$.fragment),l=A(),tt(a.$$.fragment),w(e,"class","svelte-mkl6m0")},m(t,f){p(t,e,f),et(n,e,null),d(e,i),et(r,e,null),d(e,o),et(c,e,null),p(t,u,f),et(s,t,f),p(t,l,f),et(a,t,f),h=!0},p(t,[e]){const i={};16384&e&&(i.$$scope={dirty:e,ctx:t}),n.$set(i);const o={};16384&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o);const u={};16384&e&&(u.$$scope={dirty:e,ctx:t}),c.$set(u);const l={};16413&e&&(l.$$scope={dirty:e,ctx:t}),s.$set(l);const h={};16384&e&&(h.$$scope={dirty:e,ctx:t}),a.$set(h)},i(t){h||(V(n.$$.fragment,t),V(r.$$.fragment,t),V(c.$$.fragment,t),V(s.$$.fragment,t),V(a.$$.fragment,t),h=!0)},o(t){_(n.$$.fragment,t),_(r.$$.fragment,t),_(c.$$.fragment,t),_(s.$$.fragment,t),_(a.$$.fragment,t),h=!1},d(i){i&&m(e),nt(n),nt(r),nt(c),i&&m(u),t[12](null),nt(s,i),i&&m(l),t[13](null),nt(a,i)}}}function hi(t,e,n){let i,r,o,c,s;u(t,fn,(t=>n(2,i=t))),u(t,dn,(t=>n(3,r=t))),u(t,pn,(t=>n(4,o=t)));return[c,s,i,r,o,()=>c.open(),()=>s.open(),()=>window.open("https://github.com/AlexAegis/svelte-minesweeper","_blank"),function(t){i=t,fn.set(i)},function(t){r=t,dn.set(r)},function(t){o=t,pn.set(o)},()=>c.close(),function(t){O[t?"unshift":"push"]((()=>{c=t,n(0,c)}))},function(t){O[t?"unshift":"push"]((()=>{s=t,n(1,s)}))}]}class fi extends ot{constructor(t){super(),rt(this,t,hi,ai,c,{})}}function di(t){let e,n,i,r;const o=t[2].default,c=s(o,t,t[1],null);return{c(){e=b("div"),c&&c.c(),w(e,"class",n=f(t[0].class)+" svelte-mheod6"),w(e,"style",i=t[0].style)},m(t,n){p(t,e,n),c&&c.m(e,null),r=!0},p(t,[u]){c&&c.p&&(!r||2&u)&&a(c,o,t,t[1],u,null,null),(!r||1&u&&n!==(n=f(t[0].class)+" svelte-mheod6"))&&w(e,"class",n),(!r||1&u&&i!==(i=t[0].style))&&w(e,"style",i)},i(t){r||(V(c,t),r=!0)},o(t){_(c,t),r=!1},d(t){t&&m(e),c&&c.d(t)}}}function pi(t,n,i){let{$$slots:r={},$$scope:o}=n;return t.$$set=t=>{i(0,n=e(e({},n),h(t))),"$$scope"in t&&i(1,o=t.$$scope)},[n=h(n),o,r]}class mi extends ot{constructor(t){super(),rt(this,t,pi,di,c,{})}}class vi{constructor(t,e){"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y)}static random(t,e,n,i){return new vi(ct(t,e),ct(n,i))}toString(){return`${this.x},${this.y}`}static toString(t,e){return`${t},${e}`}equal(t,e){return"number"==typeof t?this.x===t&&this.y===e:this.x===t.x&&this.y===t.y}}vi.directions={NORTH:new vi(0,1),NORTHEAST:new vi(1,1),EAST:new vi(1,0),SOUTHEAST:new vi(1,-1),SOUTH:new vi(0,-1),SOUTHWEST:new vi(-1,-1),WEST:new vi(-1,0),NORTHWEST:new vi(-1,1)},function(t){t[t.EMTPY=0]="EMTPY",t[t.FLAG=1]="FLAG",t[t.QUESTION=2]="QUESTION"}(kn||(kn={}));const bi=t=>t.getMark()===kn.EMTPY,yi=t=>t.getMark()===kn.FLAG,Ai=t=>t.getMark()===kn.QUESTION;class gi{constructor(t,e,n,i){this.height=t,this.width=e,this.mineCount=n,this.tileGetter=i,this.tileCount=this.width*this.height,this.onReveals=new Map,this.clickCount$=new Ft(0),this.revealed$=new Ft(0),this.correctlyMarked$=new Ft(0),this.marked$=new Ft(0),this.resetNotification$=new Qt,this.isBlown$=new Ft(void 0),this.isWon$=this.revealed$.pipe(Me((t=>t+this.mineCount>=this.tileCount))),this.isOnGoing$=this.clickCount$.pipe(Me((t=>t>0)),rn()),this.remainingMines$=this.marked$.pipe(Me((t=>this.mineCount-t))),this.gamestate$=Fe(this.isWon$.pipe(Pe(Ot),nn("won")),this.isBlown$.pipe(Pe((t=>!!t)),rn(),nn("lost")),this.isOnGoing$.pipe(rn(),nn("ongoing"))).pipe(rn()),this.isEnded$=this.gamestate$.pipe(Me((t=>"won"===t||"lost"===t)),rn()),this.elapsedTime$=this.isOnGoing$.pipe(cn((t=>{return t?Je(0,1e3).pipe((e=this.isEnded$.pipe((n=1,Pe((function(t,e){return n<=e})))),Et((function(t,n){pe(e).subscribe(new zt(n,(function(){return n.complete()}),Gt)),!n.closed&&t.subscribe(n)})))):function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ie(t);return n?ee(t,n):be(t)}(0);var e,n}))),n>=t*e-1&&(n=t*e-1),this.reset()}*[Symbol.iterator](){for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++){const n=this.tileGetter(t,e);n&&(yield n)}}isOutOfBounds(t,e){return t>this.height||e>this.width||t<0||e<0}surrounding(t,e){return Object.values(vi.directions).map((n=>this.tileGetter(t+n.x,e+n.y))).filter((t=>!!t))}reset(){this.isBlown$.next(void 0),this.revealed$.next(0),this.correctlyMarked$.next(0),this.marked$.next(0),this.clickCount$.next(0);for(const t of this){t.setValue(0),t.setMine(!1),t.setMark(kn.EMTPY),t.setError(!1),t.setRevealed(!1);const e=this.makeInitialOnReveal(t);this.onReveals.set(t,e),t.registerOnReveal(e)}this.resetNotification$.next()}increaseClicks(){this.clickCount$.next(this.clickCount$.value+1)}makeInitialOnReveal(t){return()=>{var e;this.start(t.getX(),t.getY()),this.increaseClicks(),null===(e=this.onReveals.get(t))||void 0===e||e(!1)}}makeMarkLogic(t){return()=>{this.increaseClicks(),Ai(t)?t.setMark(kn.EMTPY):yi(t)?t.setMark(kn.QUESTION):bi(t)&&t.setMark(kn.FLAG),this.refreshFlagCounts()}}refreshFlagCounts(){const{correctFlags:t,totalFlags:e}=this.countFlags();this.marked$.next(e),this.correctlyMarked$.next(t)}countFlags(){const t=[...this].filter(yi),e=t.filter((t=>t.isMine()));return{totalFlags:t.length,correctFlags:e.length}}makeMineRevealLogic(t){return(e=!0)=>{e&&this.increaseClicks(),e&&!bi(t)?t.setMark(kn.EMTPY):t.isRevealed()||this.blowUp(t)}}blowUp(t){t.setError(!0),this.isBlown$.next(t);for(const t of this)t.isMine()&&!yi(t)&&t.setRevealed(!0),!t.isMine()&&yi(t)&&(t.setRevealed(!0),t.setError(!0))}makeTileRevealLogic(t){return(e=!0)=>{var n,i;if(e&&this.increaseClicks(),e&&!bi(t))t.setMark(kn.EMTPY);else if(!t.isRevealed()&&bi(t)){if(t.setRevealed(!0),this.revealed$.next(this.revealed$.value+1),!t.getValue())for(const e of this.surrounding(t.getX(),t.getY()))bi(e)&&(null===(n=this.onReveals.get(e))||void 0===n||n(!1))}else if(e&&t.isRevealed()&&t.getValue()){const e=this.surrounding(t.getX(),t.getY()),n=e.filter(yi).length,r=e.filter(Ai).length;if(n===t.getValue()&&0===r)for(const t of e)bi(t)&&(null===(i=this.onReveals.get(t))||void 0===i||i(!1))}}}static isNeighbour(t,e,n,i){return n>=t-1&&n<=t+1&&i>=e-1&&i<=e+1}static toLinear(t,e,n){return n+t*e}static fromLinear(t,e){return[~~(e/t),e%t]}toLinear(t,e){return gi.toLinear(this.width,t,e)}fromLinear(t){return gi.fromLinear(this.width,t)}start(t,e){if(this.isOutOfBounds(t,e))throw new Error("Start tile out of field");this.reset();const n=this.toLinear(t,e);let i=[];for(let t=0;t<this.tileCount;t++)i[t]=t;!function(t){let e=t.length;for(;0!==e;){const n=Math.floor(Math.random()*e);e--;const i=t[e];t[e]=t[n],t[n]=i}}(i),i=i.filter((t=>n!==t)),i.splice(this.mineCount);const r=[];for(const t of i){const[e,n]=this.fromLinear(t),i=this.tileGetter(e,n);null==i||i.setMine(!0),r.push({x:e,y:n})}for(const{x:t,y:e}of r)for(const n of this.surrounding(t,e))n&&!n.isMine()&&n.setValue(n.getValue()+1);for(const t of this){let e;t.registerOnMark(this.makeMarkLogic(t)),e=t.isMine()?this.makeMineRevealLogic(t):this.makeTileRevealLogic(t),this.onReveals.set(t,e),t.registerOnReveal(e)}}}const Ii={flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTI3VDA5OjU4OjIzKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0yN1QxMDoxMjoxMyswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNy0yN1QxMDoxMjoxMyswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5YzA0MjY0ZS1lZGM4LWMxNDItYTE5Yy1mZTI2NmZhOTE2YmMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OWMwNDI2NGUtZWRjOC1jMTQyLWExOWMtZmUyNjZmYTkxNmJjIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6OWMwNDI2NGUtZWRjOC1jMTQyLWExOWMtZmUyNjZmYTkxNmJjIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5YzA0MjY0ZS1lZGM4LWMxNDItYTE5Yy1mZTI2NmZhOTE2YmMiIHN0RXZ0OndoZW49IjIwMjAtMDctMjdUMDk6NTg6MjMrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz77BJIxAAAAYklEQVQ4jWP8//8/A6WAiWIT6GLIO1nV/+9kVQn6lwWXZopcQqoBWA0RenybkWJDYAaRYhgjoXTCyMj4/////3gNpEoU43QJIyMjigQ+12AYgq4ZHWAzjLbeIQUMkQxILAAAt6kpQC2cv3IAAAAASUVORK5CYII=",mineFalse:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAGvmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTI3VDA5OjU1OjUxKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0yN1QxMzoxNDo1NyswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNy0yN1QxMzoxNDo1NyswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MGIzODE0Yy1mNzJmLTIzNDYtOGYyOC1lZjFlZDJkODEwZDciIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo4MDJlNTExNC05ZWQ4LWQyNDctYjU4OC03YThmNjMxMmQ5MDQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphNmY1YjBkOS1kOGIzLWNjNDMtOGQ4OC1jYWM5MjY3NmZkYmYiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmE2ZjViMGQ5LWQ4YjMtY2M0My04ZDg4LWNhYzkyNjc2ZmRiZiIgc3RFdnQ6d2hlbj0iMjAyMC0wNy0yN1QwOTo1NTo1MSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoyZjkzYmJhMi02NWQ4LTQxNDMtYjU2Yi1iMTNmYmEwNDM4ZmEiIHN0RXZ0OndoZW49IjIwMjAtMDctMjdUMTM6MTQ6NTcrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NTBiMzgxNGMtZjcyZi0yMzQ2LThmMjgtZWYxZWQyZDgxMGQ3IiBzdEV2dDp3aGVuPSIyMDIwLTA3LTI3VDEzOjE0OjU3KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bphD1AAAALFJREFUOI2d00EShCAMRNHf3P/OPQsNJkCqHNlRkmcnqAwGhM2nJXkAAoz0CQA0YttBug62AMBIbbxPlAAAOZCn2PduS2BbK4DNyJuS6EWCqBnlkI3AoTjdWFTPhOlZRRYwWqyvrwCkmXS3sAHFsgoy1YQFsEJRHKttJxf2k24Q2zq1MId96G5Psl7jyVo+yIokwNe8NNM9c9igcQLuvvYczS9y3c4boCaeJ+P1/wEH6Ad6zmgQNquKOgAAAABJRU5ErkJggg==",mine:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTI3VDA5OjU1OjUxKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0yN1QxMDoxMToyNCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNy0yN1QxMDoxMToyNCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphNmY1YjBkOS1kOGIzLWNjNDMtOGQ4OC1jYWM5MjY3NmZkYmYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YTZmNWIwZDktZDhiMy1jYzQzLThkODgtY2FjOTI2NzZmZGJmIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YTZmNWIwZDktZDhiMy1jYzQzLThkODgtY2FjOTI2NzZmZGJmIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphNmY1YjBkOS1kOGIzLWNjNDMtOGQ4OC1jYWM5MjY3NmZkYmYiIHN0RXZ0OndoZW49IjIwMjAtMDctMjdUMDk6NTU6NTErMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5SavzBAAAAY0lEQVQ4jbWSMQ7AIAwDcf//52OiAySNVcATEsI5Owhou3q2HRwTSSXqHZIxWRLZeXkTFfsVAZBNAjR3wJFO3jjOFmaNaEsnjtncy50VR+1X9+F2MiNA9j9xTVOSPypJHB0h6YHdPxOdSROUAAAAAElFTkSuQmCC",clickSmiley:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAF42lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTI3VDA5OjUzOjE0KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0yN1QxMDoxNjo0NCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNy0yN1QxMDoxNjo0NCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0OGJiOWU1Yy0zZjQyLWVhNDktOTljZi0yMGFjMDI0NTA5MjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDliZjJlY2QtYTNlYi1iODQxLWE2OWItYWE1YTNlYTJkMmFlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDliZjJlY2QtYTNlYi1iODQxLWE2OWItYWE1YTNlYTJkMmFlIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0OWJmMmVjZC1hM2ViLWI4NDEtYTY5Yi1hYTVhM2VhMmQyYWUiIHN0RXZ0OndoZW49IjIwMjAtMDctMjdUMDk6NTM6MTQrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NDhiYjllNWMtM2Y0Mi1lYTQ5LTk5Y2YtMjBhYzAyNDUwOTIyIiBzdEV2dDp3aGVuPSIyMDIwLTA3LTI3VDEwOjE2OjQ0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+WBeZSAAAAJlJREFUOI2tlEEOhSAMRDvmbziC9z8cR/jLcWFKxtoaicwS28cLUkDSsgC4fSCJrPZXNf+5l+AIg5oAYNYc09AvoGHigIY+ihUY1wHQQduMgcZBA/I1MLNpC01DX2OyBHK7J5rqT02bvDmvjSR0R7VwQLw/WkMSpYk2KjA1MTtnIdvJAdW639gls4P4FDxNsVs9TnEG01TvyQEv7mwTQvwhqQAAAABJRU5ErkJggg==",lostSmiley:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAF42lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTI3VDA5OjUwOjExKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0yN1QxMDoxNjozOCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNy0yN1QxMDoxNjozOCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkOGZmNjgyNi0xMmQ1LTU2NDQtYTEyZS05OGM3N2MxZDlkNzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YTY4OTdhYWQtMDIzZi1hZjQ1LTkwOWQtZGZiYmUyMDIyNzE4IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YTY4OTdhYWQtMDIzZi1hZjQ1LTkwOWQtZGZiYmUyMDIyNzE4Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphNjg5N2FhZC0wMjNmLWFmNDUtOTA5ZC1kZmJiZTIwMjI3MTgiIHN0RXZ0OndoZW49IjIwMjAtMDctMjdUMDk6NTA6MTErMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZDhmZjY4MjYtMTJkNS01NjQ0LWExMmUtOThjNzdjMWQ5ZDc0IiBzdEV2dDp3aGVuPSIyMDIwLTA3LTI3VDEwOjE2OjM4KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+n1n6MAAAAK9JREFUOI2tlDsOwzAMQ0mjHXyE3P9wPkKALuwSB7I+aVOUiwFFfqIEOZSETCTDB0nMch/V5V1bCfYwWicklV326hwLqN0FTJe23eYBnWM5bXV7WlCD064NnSPMpIoDeDbfxkzMnPj44eZFAF/PIlPniO38or9AwrJN+ZkA+QICx7JVw83APk8SQzsVYDrJHJ5rf2djrQvADFYSsyqfAIuTM3DximeRy1ecwayq/8kbYAaAJkhtNGoAAAAASUVORK5CYII=",ongoingSmiley:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTI3VDA5OjUwOjUwKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0yN1QxMDoxNzoxMCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNy0yN1QxMDoxNzoxMCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDplZGU2MjVlZi1jYjczLWRkNDMtYjIzNS0wOGNiZDFkNDNiZDIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ZWRlNjI1ZWYtY2I3My1kZDQzLWIyMzUtMDhjYmQxZDQzYmQyIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZWRlNjI1ZWYtY2I3My1kZDQzLWIyMzUtMDhjYmQxZDQzYmQyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplZGU2MjVlZi1jYjczLWRkNDMtYjIzNS0wOGNiZDFkNDNiZDIiIHN0RXZ0OndoZW49IjIwMjAtMDctMjdUMDk6NTA6NTArMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4l68Z+AAAAk0lEQVQ4jc2USw7EMAhD7Wg2HGHufziO0KVn1YoSiFKpi/Eyn4cJEEpCJZLThiRWZz/d5UPfFpxhjE5IqrqcZfQbaDwFnC5juqMCGB1Gn6LHtQgaeEEEsJ1GJaO/4+SPIbkqO/tDEnPpOpDRkVtBEqe2X4G6Kl5t/6RjowsgvElOaxdwc3ItLKb4DLKc4goW1f0nPxMaY9crYeybAAAAAElFTkSuQmCC",wonSmiley:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTI3VDA5OjUyOjIxKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0yN1QxMDoxNzowMyswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNy0yN1QxMDoxNzowMyswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmMDk0MmJhOC01MzI3LTg2NGUtOWJkZC1jYWZhNjczNGNiYzIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ZjA5NDJiYTgtNTMyNy04NjRlLTliZGQtY2FmYTY3MzRjYmMyIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZjA5NDJiYTgtNTMyNy04NjRlLTliZGQtY2FmYTY3MzRjYmMyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmMDk0MmJhOC01MzI3LTg2NGUtOWJkZC1jYWZhNjczNGNiYzIiIHN0RXZ0OndoZW49IjIwMjAtMDctMjdUMDk6NTI6MjErMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz53nvZGAAAAnklEQVQ4jaVUwREEIQgjzH0s4fovzhLumX3pZQV3ZDZPxBACCpKWAUA4IIks97O7/ON3S7ySQZUAYHZ5RUO/EXmVYKjUdr1KkBEFTxr6EYHCVUVGkCkceUON60HFEy0IMwsj1UonMZhZ2VRFQ/+P+A2cJFZDdxPK8kgijNgsGqfxDHPtqwunqz89ydo6IbgpmYGHVzyKPL7ijEyx+08u68t3Jo1xAWUAAAAASUVORK5CYII=",questionMark:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAGvmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTI3VDA5OjU1OjUxKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0yN1QxODowMTozMSswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNy0yN1QxODowMTozMSswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3NjczNDRhYS0wNDkyLWNjNDgtYTJkNi0yZThmYmRjOThhYWUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo4MDJlNTExNC05ZWQ4LWQyNDctYjU4OC03YThmNjMxMmQ5MDQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphNmY1YjBkOS1kOGIzLWNjNDMtOGQ4OC1jYWM5MjY3NmZkYmYiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmE2ZjViMGQ5LWQ4YjMtY2M0My04ZDg4LWNhYzkyNjc2ZmRiZiIgc3RFdnQ6d2hlbj0iMjAyMC0wNy0yN1QwOTo1NTo1MSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiZWVlYWIwMC0yODE2LTY2NGYtODAwMi02ZmJkM2U4NDE1MTIiIHN0RXZ0OndoZW49IjIwMjAtMDctMjdUMTc6NTI6MjkrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NzY3MzQ0YWEtMDQ5Mi1jYzQ4LWEyZDYtMmU4ZmJkYzk4YWFlIiBzdEV2dDp3aGVuPSIyMDIwLTA3LTI3VDE4OjAxOjMxKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+sTCbQQAAAF9JREFUOI3Nk0EKQCEIRGc+3f/KtvlBhOJULhpoE/LySdLMcJvvmlAFad4lSQBYPRmpR52Mav7Hg6aQrbg60+tSlE5mtSNIClA7SRPNZESajaKT7kWJTvgLd/LOApZAOkg7ECGCqQYJAAAAAElFTkSuQmCC"};function wi(e){let n,i,r,o;return{c(){n=b("img"),w(n,"class",i=f(e[2].class)+" svelte-eezuvx"),w(n,"style",r=e[2].style),w(n,"draggable",!1),w(n,"aria-label",e[0]),n.src!==(o=e[1])&&w(n,"src",o),w(n,"alt",e[0])},m(t,e){p(t,n,e)},p(t,[e]){4&e&&i!==(i=f(t[2].class)+" svelte-eezuvx")&&w(n,"class",i),4&e&&r!==(r=t[2].style)&&w(n,"style",r),1&e&&w(n,"aria-label",t[0]),2&e&&n.src!==(o=t[1])&&w(n,"src",o),1&e&&w(n,"alt",t[0])},i:t,o:t,d(t){t&&m(n)}}}function Mi(t,n,i){let{alt:r}=n,{src:o}=n;return t.$$set=t=>{i(2,n=e(e({},n),h(t))),"alt"in t&&i(0,r=t.alt),"src"in t&&i(1,o=t.src)},n=h(n),[r,o,n]}class Zi extends ot{constructor(t){super(),rt(this,t,Mi,wi,c,{alt:0,src:1})}}function $i(t){let e,n;return e=new Ln({props:{mousedown:t[11]&&t[6]===kn.EMTPY,disabled:t[2],class:"button ms-tile ms-tile-font"+(t[8]?" ms-tile-error":""),style:"grid-row: "+(t[0]+1)+"; grid-column: "+(t[1]+1)+";","aria-label":"Tile "+(t[6]!==kn.EMTPY?"mark":"unrevealed"),$$slots:{default:[ji]},$$scope:{ctx:t}}}),e.$on("mousedown",t[30]),e.$on("click",t[31]),e.$on("contextmenu",t[32]),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},p(t,n){const i={};2112&n[0]&&(i.mousedown=t[11]&&t[6]===kn.EMTPY),4&n[0]&&(i.disabled=t[2]),256&n[0]&&(i.class="button ms-tile ms-tile-font"+(t[8]?" ms-tile-error":"")),3&n[0]&&(i.style="grid-row: "+(t[0]+1)+"; grid-column: "+(t[1]+1)+";"),64&n[0]&&(i["aria-label"]="Tile "+(t[6]!==kn.EMTPY?"mark":"unrevealed")),64&n[0]|4&n[1]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function Ri(t){let e,n,i,c,u,s;const l=[Wi,Yi,xi],a=[];function h(t,e){return t[7]?0:t[8]?1:t[4]?2:-1}return~(n=h(t))&&(i=a[n]=l[n](t)),{c(){e=b("div"),i&&i.c(),w(e,"class","ms-tile svelte-1bryk4g"),R(e,"color",Yn[t[4]]),R(e,"grid-row",t[0]+1),R(e,"grid-column",t[1]+1),N(e,"fontpatch",!t[7]&&t[4]&&!t[8]),N(e,"ms-tile-error",t[8]&&t[7])},m(i,r){p(i,e,r),~n&&a[n].m(e,null),c=!0,u||(s=[I(e,"click",(function(){o(t[9])&&t[9].apply(this,arguments)})),I(e,"contextmenu",(function(){o(t[9])&&t[9].apply(this,arguments)})),I(e,"mousedown",t[29])],u=!0)},p(r,o){let u=n;n=h(t=r),n===u?~n&&a[n].p(t,o):(i&&(X(),_(a[u],1,1,(()=>{a[u]=null})),H()),~n?(i=a[n],i?i.p(t,o):(i=a[n]=l[n](t),i.c()),V(i,1),i.m(e,null)):i=null),(!c||16&o[0])&&R(e,"color",Yn[t[4]]),(!c||1&o[0])&&R(e,"grid-row",t[0]+1),(!c||2&o[0])&&R(e,"grid-column",t[1]+1),400&o[0]&&N(e,"fontpatch",!t[7]&&t[4]&&!t[8]),384&o[0]&&N(e,"ms-tile-error",t[8]&&t[7])},i(t){c||(V(i),c=!0)},o(t){_(i),c=!1},d(t){t&&m(e),~n&&a[n].d(),u=!1,r(s)}}}function Ni(e){let n,i;return n=new Zi({props:{class:"tile-img",src:Ii.questionMark,alt:"Question mark"}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),i=!0},p:t,i(t){i||(V(n.$$.fragment,t),i=!0)},o(t){_(n.$$.fragment,t),i=!1},d(t){nt(n,t)}}}function Gi(e){let n,i;return n=new Zi({props:{class:"tile-img",src:Ii.flag,alt:"Flag"}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),i=!0},p:t,i(t){i||(V(n.$$.fragment,t),i=!0)},o(t){_(n.$$.fragment,t),i=!1},d(t){nt(n,t)}}}function ji(t){let e,n,i,r;const o=[Gi,Ni],c=[];function u(t,e){return t[6]===kn.FLAG?0:t[6]===kn.QUESTION?1:-1}return~(e=u(t))&&(n=c[e]=o[e](t)),{c(){n&&n.c(),i=g()},m(t,n){~e&&c[e].m(t,n),p(t,i,n),r=!0},p(t,r){let s=e;e=u(t),e===s?~e&&c[e].p(t,r):(n&&(X(),_(c[s],1,1,(()=>{c[s]=null})),H()),~e?(n=c[e],n?n.p(t,r):(n=c[e]=o[e](t),n.c()),V(n,1),n.m(i.parentNode,i)):n=null)},i(t){r||(V(n),r=!0)},o(t){_(n),r=!1},d(t){~e&&c[e].d(t),t&&m(i)}}}function xi(e){let n;return{c(){n=y(e[4])},m(t,e){p(t,n,e)},p(t,e){16&e[0]&&Z(n,t[4])},i:t,o:t,d(t){t&&m(n)}}}function Yi(e){let n,i;return n=new Zi({props:{class:"tile-img",src:Ii.mineFalse,alt:"False mine"}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),i=!0},p:t,i(t){i||(V(n.$$.fragment,t),i=!0)},o(t){_(n.$$.fragment,t),i=!1},d(t){nt(n,t)}}}function Wi(e){let n,i;return n=new Zi({props:{class:"tile-img",src:Ii.mine,alt:"Mine"}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),i=!0},p:t,i(t){i||(V(n.$$.fragment,t),i=!0)},o(t){_(n.$$.fragment,t),i=!1},d(t){nt(n,t)}}}function ki(t){let e,n,i,r;const o=[Ri,$i],c=[];function u(t,e){return t[5]?0:1}return e=u(t),n=c[e]=o[e](t),{c(){n.c(),i=g()},m(t,n){c[e].m(t,n),p(t,i,n),r=!0},p(t,r){let s=e;e=u(t),e===s?c[e].p(t,r):(X(),_(c[s],1,1,(()=>{c[s]=null})),H(),n=c[e],n?n.p(t,r):(n=c[e]=o[e](t),n.c()),V(n,1),n.m(i.parentNode,i))},i(t){r||(V(n),r=!0)},o(t){_(n),r=!1},d(t){c[e].d(t),t&&m(i)}}}function Si(t,e,n){let i,r,o,c;u(t,an,(t=>n(27,o=t))),u(t,fn,(t=>n(3,c=t)));let s,l,a,h,{x:f}=e,{y:d}=e,p=!1,m=!1,v=!1,{disabled:b=!1}=e,y=!1;return t.$$set=t=>{"x"in t&&n(0,f=t.x),"y"in t&&n(1,d=t.y),"disabled"in t&&n(2,b=t.disabled)},t.$$.update=()=>{if(134217728&t.$$.dirty[0]&&n(26,i=o),8&t.$$.dirty[0]&&n(28,r=c),335544323&t.$$.dirty[0])if(void 0!==i){if(i[1]){const[t,e]=gi.fromLinear(r,i[0]);n(11,y=gi.isNeighbour(f,d,t,e))}}else n(11,y=!1)},[f,d,b,c,s,p,l,m,v,a,h,y,function(){return f},function(){return d},function(){return s},function(){return p},function(){return l},function(){return m},function(){return v},function(t){n(4,s=t)},function(t){n(5,p=t)},function(t){n(6,l=t)},function(t){n(7,m=t)},function(t){n(8,v=t)},function(t){n(9,a=e=>{e.preventDefault(),t()})},function(t){n(10,h=e=>{e.preventDefault(),t()})},i,o,r,()=>sn.next([gi.toLinear(c,f,d),!0]),()=>sn.next([gi.toLinear(c,f,d),!1]),t=>a(t),t=>h(t)]}class Oi extends ot{constructor(t){super(),rt(this,t,Si,ki,c,{x:0,y:1,disabled:2,getX:12,getY:13,getValue:14,isRevealed:15,getMark:16,isMine:17,getError:18,setValue:19,setRevealed:20,setMark:21,setMine:22,setError:23,registerOnReveal:24,registerOnMark:25},[-1,-1])}get getX(){return this.$$.ctx[12]}get getY(){return this.$$.ctx[13]}get getValue(){return this.$$.ctx[14]}get isRevealed(){return this.$$.ctx[15]}get getMark(){return this.$$.ctx[16]}get isMine(){return this.$$.ctx[17]}get getError(){return this.$$.ctx[18]}get setValue(){return this.$$.ctx[19]}get setRevealed(){return this.$$.ctx[20]}get setMark(){return this.$$.ctx[21]}get setMine(){return this.$$.ctx[22]}get setError(){return this.$$.ctx[23]}get registerOnReveal(){return this.$$.ctx[24]}get registerOnMark(){return this.$$.ctx[25]}}function Di(t,e,n){const i=t.slice();return i[8]=e[n],i[9]=e,i[10]=n,i}function Li(t,e,n){const i=t.slice();return i[8]=e[n],i[11]=e,i[12]=n,i}function Ti(t){let e,n,i=t[12],r=t[10];const o=()=>t[6](e,i,r),c=()=>t[6](null,i,r);let u={x:t[10],y:t[12],disabled:t[2]};return e=new Oi({props:u}),o(),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},p(t,n){i===t[12]&&r===t[10]||(c(),i=t[12],r=t[10],o());const u={};4&n&&(u.disabled=t[2]),e.$set(u)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){c(),nt(e,t)}}}function Ei(t){let e,n,i=Array(t[0].width),r=[];for(let e=0;e<i.length;e+=1)r[e]=Ti(Li(t,i,e));const o=t=>_(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=g()},m(t,i){for(let e=0;e<r.length;e+=1)r[e].m(t,i);p(t,e,i),n=!0},p(t,n){if(7&n){let c;for(i=Array(t[0].width),c=0;c<i.length;c+=1){const o=Li(t,i,c);r[c]?(r[c].p(o,n),V(r[c],1)):(r[c]=Ti(o),r[c].c(),V(r[c],1),r[c].m(e.parentNode,e))}for(X(),c=i.length;c<r.length;c+=1)o(c);H()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)V(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)_(r[t]);n=!1},d(t){v(r,t),t&&m(e)}}}function zi(t){let e,n,i,r,o=Array(t[0].height),c=[];for(let e=0;e<o.length;e+=1)c[e]=Ei(Di(t,o,e));const u=t=>_(c[t],1,1,(()=>{c[t]=null}));return{c(){e=b("div");for(let t=0;t<c.length;t+=1)c[t].c();w(e,"class",n=f(t[3].class)+" svelte-119ltra"),w(e,"style",i=t[3].style)},m(t,n){p(t,e,n);for(let t=0;t<c.length;t+=1)c[t].m(e,null);r=!0},p(t,[s]){if(7&s){let n;for(o=Array(t[0].height),n=0;n<o.length;n+=1){const i=Di(t,o,n);c[n]?(c[n].p(i,s),V(c[n],1)):(c[n]=Ei(i),c[n].c(),V(c[n],1),c[n].m(e,null))}for(X(),n=o.length;n<c.length;n+=1)u(n);H()}(!r||8&s&&n!==(n=f(t[3].class)+" svelte-119ltra"))&&w(e,"class",n),(!r||8&s&&i!==(i=t[3].style))&&w(e,"style",i)},i(t){if(!r){for(let t=0;t<o.length;t+=1)V(c[t]);r=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)_(c[t]);r=!1},d(t){t&&m(e),v(c,t)}}}function Ci(t,n,i){let r;u(t,gn,(t=>i(2,r=t)));let{gamePreset:o}=n,{game:c}=n,s=!1,l=[];const a=(t,e)=>l[e+1e3*t];var f;return f=()=>i(5,s=!0),x().$$.on_mount.push(f),Y((()=>i(5,s=!1))),t.$$set=t=>{i(3,n=e(e({},n),h(t))),"gamePreset"in t&&i(0,o=t.gamePreset),"game"in t&&i(4,c=t.game)},t.$$.update=()=>{49&t.$$.dirty&&s&&(i(4,c=new gi(o.height,o.width,o.mineCount,a)),vn.next(c))},n=h(n),[o,l,r,n,c,s,function(t,e,n){O[t?"unshift":"push"]((()=>{l[e+1e3*n]=t,i(1,l)}))}]}class Qi extends ot{constructor(t){super(),rt(this,t,Ci,zi,c,{gamePreset:0,game:4})}}function Ji(t){let e,n,i;function r(e){t[4](e)}let o={style:"width: 100%; height: 100%;",alt:t[0]+" game"};return void 0!==t[1]&&(o.src=t[1]),e=new Zi({props:o}),O.push((()=>q(e,"src",r))),{c(){tt(e.$$.fragment)},m(t,n){et(e,t,n),i=!0},p(t,i){const r={};1&i&&(r.alt=t[0]+" game"),!n&&2&i&&(n=!0,r.src=t[1],C((()=>n=!1))),e.$set(r)},i(t){i||(V(e.$$.fragment,t),i=!0)},o(t){_(e.$$.fragment,t),i=!1},d(t){nt(e,t)}}}function Fi(t){let e,n;return e=new Ln({props:{"aria-label":"Restart",class:"button padded",style:"width: 60px; height: 60px;",$$slots:{default:[Ji]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},p(t,[n]){const i={};67&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function Pi(t,e,n){let i,r,o,c;return u(t,an,(t=>n(2,o=t))),u(t,yn,(t=>n(3,c=t))),t.$$.update=()=>{12&t.$$.dirty&&n(0,i=o?"click":c),1&t.$$.dirty&&n(1,r=Ii[`${null!=i?i:"ongoing"}Smiley`])},[i,r,o,c,function(t){r=t,n(1,r),n(0,i),n(2,o),n(3,c)},function(e){k(t,e)}]}class Ui extends ot{constructor(t){super(),rt(this,t,Pi,Fi,c,{})}}function Bi(t){let e,n,i,r,o;e=new Zi({props:{class:"",src:t[1],alt:t[0]}});const c=t[2].default,u=s(c,t,t[3],null);return{c(){tt(e.$$.fragment),n=A(),i=y(t[0]),r=A(),u&&u.c()},m(t,c){et(e,t,c),p(t,n,c),p(t,i,c),p(t,r,c),u&&u.m(t,c),o=!0},p(t,n){const r={};2&n&&(r.src=t[1]),1&n&&(r.alt=t[0]),e.$set(r),(!o||1&n)&&Z(i,t[0]),u&&u.p&&(!o||8&n)&&a(u,c,t,t[3],n,null,null)},i(t){o||(V(e.$$.fragment,t),V(u,t),o=!0)},o(t){_(e.$$.fragment,t),_(u,t),o=!1},d(t){nt(e,t),t&&m(n),t&&m(i),t&&m(r),u&&u.d(t)}}}function Xi(t){let e,n;return e=new mi({props:{style:"padding: 3px; justify-content: end;",class:"title-bar-panel",$$slots:{default:[Bi]},$$scope:{ctx:t}}}),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},p(t,[n]){const i={};11&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function Hi(t,e,n){let{$$slots:i={},$$scope:r}=e,{title:o}=e,{icon:c}=e;return t.$$set=t=>{"title"in t&&n(0,o=t.title),"icon"in t&&n(1,c=t.icon),"$$scope"in t&&n(3,r=t.$$scope)},[o,c,i,r]}class Vi extends ot{constructor(t){super(),rt(this,t,Hi,Xi,c,{title:0,icon:1})}}function _i(t){let e,n,i,r,o,c;return e=new tn({props:{value:t[1],paddedLength:3}}),i=new Ui({}),i.$on("click",t[4]),o=new tn({props:{value:t[2],paddedLength:3}}),{c(){tt(e.$$.fragment),n=A(),tt(i.$$.fragment),r=A(),tt(o.$$.fragment)},m(t,u){et(e,t,u),p(t,n,u),et(i,t,u),p(t,r,u),et(o,t,u),c=!0},p(t,n){const i={};2&n&&(i.value=t[1]),e.$set(i);const r={};4&n&&(r.value=t[2]),o.$set(r)},i(t){c||(V(e.$$.fragment,t),V(i.$$.fragment,t),V(o.$$.fragment,t),c=!0)},o(t){_(e.$$.fragment,t),_(i.$$.fragment,t),_(o.$$.fragment,t),c=!1},d(t){nt(e,t),t&&m(n),nt(i,t),t&&m(r),nt(o,t)}}}function Ki(t){let e,n,i,r,o,c,u,s,l,a,h;function f(e){t[5](e)}n=new Vi({props:{title:"Svelte Minesweeper v1.0.0",icon:Ii.mine}}),o=new fi({}),u=new mi({props:{class:"panel inset padded",$$slots:{default:[_i]},$$scope:{ctx:t}}});let v={class:"panel inset",gamePreset:t[3]};return void 0!==t[0]&&(v.game=t[0]),l=new Qi({props:v}),O.push((()=>q(l,"game",f))),{c(){e=b("div"),tt(n.$$.fragment),i=A(),r=b("div"),tt(o.$$.fragment),c=A(),tt(u.$$.fragment),s=A(),tt(l.$$.fragment),w(r,"class","panel game padded svelte-nmrwmx"),w(e,"class","panel outer outset svelte-nmrwmx")},m(t,a){p(t,e,a),et(n,e,null),d(e,i),d(e,r),et(o,r,null),d(r,c),et(u,r,null),d(r,s),et(l,r,null),h=!0},p(t,[e]){const n={};135&e&&(n.$$scope={dirty:e,ctx:t}),u.$set(n);const i={};8&e&&(i.gamePreset=t[3]),!a&&1&e&&(a=!0,i.game=t[0],C((()=>a=!1))),l.$set(i)},i(t){h||(V(n.$$.fragment,t),V(o.$$.fragment,t),V(u.$$.fragment,t),V(l.$$.fragment,t),h=!0)},o(t){_(n.$$.fragment,t),_(o.$$.fragment,t),_(u.$$.fragment,t),_(l.$$.fragment,t),h=!1},d(t){t&&m(e),nt(n),nt(o),nt(u),nt(l)}}}function qi(t,e,n){let i,r,o,c;u(t,Mn,(t=>n(6,t))),u(t,wn,(t=>n(1,i=t))),u(t,An,(t=>n(2,r=t))),u(t,mn,(t=>n(3,o=t)));return[c,i,r,o,()=>c.reset(),function(t){c=t,n(0,c)}]}class tr extends ot{constructor(t){super(),rt(this,t,qi,Ki,c,{})}}function er(e){let n,i;return n=new tr({}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),i=!0},p:t,i(t){i||(V(n.$$.fragment,t),i=!0)},o(t){_(n.$$.fragment,t),i=!1},d(t){nt(n,t)}}}return new class extends ot{constructor(t){super(),rt(this,t,null,er,c,{})}}({target:document.body})}();
