var app=function(){"use strict";function t(){}function r(t,r){for(const e in r)t[e]=r[e];return t}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function s(t,r){return t!=t?r==r:t!==r||t&&"object"==typeof t||"function"==typeof t}function c(r,e,n){r.$$.on_destroy.push(function(r,...e){if(null==r)return t;const n=r.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function u(t){const r={};for(const e in t)"$"!==e[0]&&(r[e]=t[e]);return r}function l(t){return null==t?"":t}function a(t,r){t.appendChild(r)}function h(t,r,e){t.insertBefore(r,e||null)}function f(t){t.parentNode.removeChild(t)}function p(t,r){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(r)}function d(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function y(){return b(" ")}function g(){return b("")}function v(t,r,e,n){return t.addEventListener(r,e,n),()=>t.removeEventListener(r,e,n)}function m(t,r,e){null==e?t.removeAttribute(r):t.getAttribute(r)!==e&&t.setAttribute(r,e)}function w(t,r){r=""+r,t.wholeText!==r&&(t.data=r)}function _(t,r,e,n){t.style.setProperty(r,e,n?"important":"")}let E;function x(t){E=t}const S=[],$=[],T=[],O=[],P=Promise.resolve();let j=!1;function A(t){T.push(t)}let M=!1;const H=new Set;function k(){if(!M){M=!0;do{for(let t=0;t<S.length;t+=1){const r=S[t];x(r),D(r.$$)}for(S.length=0;$.length;)$.pop()();for(let t=0;t<T.length;t+=1){const r=T[t];H.has(r)||(H.add(r),r())}T.length=0}while(S.length);for(;O.length;)O.pop()();j=!1,M=!1,H.clear()}}function D(t){if(null!==t.fragment){t.update(),o(t.before_update);const r=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,r),t.after_update.forEach(A)}}const V=new Set;let U;function N(){U={r:0,c:[],p:U}}function F(){U.r||o(U.c),U=U.p}function C(t,r){t&&t.i&&(V.delete(t),t.i(r))}function Y(t,r,e,n){if(t&&t.o){if(V.has(t))return;V.add(t),U.c.push(()=>{V.delete(t),n&&(e&&t.d(1),n())}),t.o(r)}}function R(t){t&&t.c()}function q(t,r,n){const{fragment:s,on_mount:c,on_destroy:u,after_update:l}=t.$$;s&&s.m(r,n),A(()=>{const r=c.map(e).filter(i);u?u.push(...r):o(r),t.$$.on_mount=[]}),l.forEach(A)}function B(t,r){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(r),e.on_destroy=e.fragment=null,e.ctx=[])}function W(t,r){-1===t.$$.dirty[0]&&(S.push(t),j||(j=!0,P.then(k)),t.$$.dirty.fill(0)),t.$$.dirty[r/31|0]|=1<<r%31}function z(r,e,i,s,c,u,l=[-1]){const a=E;x(r);const h=e.props||{},p=r.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:l};let d=!1;if(p.ctx=i?i(r,h,(t,e,...n)=>{const o=n.length?n[0]:e;return p.ctx&&c(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),d&&W(r,t)),e}):[],p.update(),d=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();e.intro&&C(r.$$.fragment),q(r,e.target,e.anchor),k()}x(a)}class L{$destroy(){B(this,1),this.$destroy=t}$on(t,r){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(r),()=>{const t=e.indexOf(r);-1!==t&&e.splice(t,1)}}$set(){}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var G=function(t,r){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function I(t,r){function e(){this.constructor=t}G(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}function J(t){return"function"==typeof t}var K=!1,Q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;K=t},get useDeprecatedSynchronousErrorHandling(){return K}};function X(t){setTimeout((function(){throw t}),0)}var Z={closed:!0,next:function(t){},error:function(t){if(Q.useDeprecatedSynchronousErrorHandling)throw t;X(t)},complete:function(){}},tt=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function rt(t){return null!==t&&"object"==typeof t}var et=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,r){return r+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),nt=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var r;if(!this.closed){var e=this._parentOrParents,n=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof t)e.remove(this);else if(null!==e)for(var i=0;i<e.length;++i){e[i].remove(this)}if(J(n))try{n.call(this)}catch(t){r=t instanceof et?ot(t.errors):[t]}if(tt(o)){i=-1;for(var s=o.length;++i<s;){var c=o[i];if(rt(c))try{c.unsubscribe()}catch(t){r=r||[],t instanceof et?r=r.concat(ot(t.errors)):r.push(t)}}}if(r)throw new et(r)}},t.prototype.add=function(r){var e=r;if(!r)return t.EMPTY;switch(typeof r){case"function":e=new t(r);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof t)){var n=e;(e=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var o=e._parentOrParents;if(null===o)e._parentOrParents=this;else if(o instanceof t){if(o===this)return e;e._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return e;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e},t.prototype.remove=function(t){var r=this._subscriptions;if(r){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function ot(t){return t.reduce((function(t,r){return t.concat(r instanceof et?r.errors:r)}),[])}var it=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),st=function(t){function r(e,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=Z;break;case 1:if(!e){i.destination=Z;break}if("object"==typeof e){e instanceof r?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(i)):(i.syncErrorThrowable=!0,i.destination=new ct(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new ct(i,e,n,o)}return i}return I(r,t),r.prototype[it]=function(){return this},r.create=function(t,e,n){var o=new r(t,e,n);return o.syncErrorThrowable=!1,o},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},r}(nt),ct=function(t){function r(r,e,n,o){var i,s=t.call(this)||this;s._parentSubscriber=r;var c=s;return J(e)?i=e:e&&(i=e.next,n=e.error,o=e.complete,e!==Z&&(J((c=Object.create(e)).unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=i,s._error=n,s._complete=o,s}return I(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;Q.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber,e=Q.useDeprecatedSynchronousErrorHandling;if(this._error)e&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)e?(r.syncErrorValue=t,r.syncErrorThrown=!0):X(t),this.unsubscribe();else{if(this.unsubscribe(),e)throw t;X(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var e=function(){return t._complete.call(t._context)};Q.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(t){if(this.unsubscribe(),Q.useDeprecatedSynchronousErrorHandling)throw t;X(t)}},r.prototype.__tryOrSetError=function(t,r,e){if(!Q.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,e)}catch(r){return Q.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(X(r),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(st),ut=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function lt(t){return t}function at(t){return 0===t.length?lt:1===t.length?t[0]:function(r){return t.reduce((function(t,r){return r(t)}),r)}}var ht=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(t,r,e){var n=this.operator,o=function(t,r,e){if(t){if(t instanceof st)return t;if(t[it])return t[it]()}return t||r||e?new st(t,r,e):new st(Z)}(t,r,e);if(n?o.add(n.call(o,this.source)):o.add(this.source||Q.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Q.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){Q.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),!function(t){for(;t;){var r=t,e=r.closed,n=r.destination,o=r.isStopped;if(e||o)return!1;t=n&&n instanceof st?n:null}return!0}(t)?console.warn(r):t.error(r)}},t.prototype.forEach=function(t,r){var e=this;return new(r=ft(r))((function(r,n){var o;o=e.subscribe((function(r){try{t(r)}catch(t){n(t),o&&o.unsubscribe()}}),n,r)}))},t.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},t.prototype[ut]=function(){return this},t.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 0===t.length?this:at(t)(this)},t.prototype.toPromise=function(t){var r=this;return new(t=ft(t))((function(t,e){var n;r.subscribe((function(t){return n=t}),(function(t){return e(t)}),(function(){return t(n)}))}))},t.create=function(r){return new t(r)},t}();function ft(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}var pt=function(){function t(t,r){this.predicate=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new dt(t,this.predicate,this.thisArg))},t}(),dt=function(t){function r(r,e,n){var o=t.call(this,r)||this;return o.predicate=e,o.thisArg=n,o.count=0,o}return I(r,t),r.prototype._next=function(t){var r;try{r=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}r&&this.destination.next(t)},r}(st),bt=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),yt=function(t){function r(r,e){var n=t.call(this)||this;return n.subject=r,n.subscriber=e,n.closed=!1,n}return I(r,t),r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,r=t.observers;if(this.subject=null,r&&0!==r.length&&!t.isStopped&&!t.closed){var e=r.indexOf(this.subscriber);-1!==e&&r.splice(e,1)}}},r}(nt),gt=function(t){function r(r){var e=t.call(this,r)||this;return e.destination=r,e}return I(r,t),r}(st),vt=function(t){function r(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return I(r,t),r.prototype[it]=function(){return new gt(this)},r.prototype.lift=function(t){var r=new mt(this,this);return r.operator=t,r},r.prototype.next=function(t){if(this.closed)throw new bt;if(!this.isStopped)for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].next(t)},r.prototype.error=function(t){if(this.closed)throw new bt;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new bt;this.isStopped=!0;for(var t=this.observers,r=t.length,e=t.slice(),n=0;n<r;n++)e[n].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(r){if(this.closed)throw new bt;return t.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(t){if(this.closed)throw new bt;return this.hasError?(t.error(this.thrownError),nt.EMPTY):this.isStopped?(t.complete(),nt.EMPTY):(this.observers.push(t),new yt(this,t))},r.prototype.asObservable=function(){var t=new ht;return t.source=this,t},r.create=function(t,r){return new mt(t,r)},r}(ht),mt=function(t){function r(r,e){var n=t.call(this)||this;return n.destination=r,n.source=e,n}return I(r,t),r.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},r.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):nt.EMPTY},r}(vt),wt=function(t){function r(r){var e=t.call(this)||this;return e._value=r,e}return I(r,t),Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),r.prototype._subscribe=function(r){var e=t.prototype._subscribe.call(this,r);return e&&!e.closed&&r.next(this._value),e},r.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bt;return this._value},r.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},r}(vt);class _t extends wt{set(t){super.next(t)}}class Et{constructor(t,r){this.x=t,this.y=r}static random(t,r,e,n){return new Et(xt(t,r),xt(e,n))}toString(){return`${this.x},${this.y}`}equal(t){return this.x===t.x&&this.y===t.y}}function xt(t,r){return Math.floor(t+Math.random()*r)}const St={NORTH:new Et(0,1),NORTHEAST:new Et(1,1),EAST:new Et(1,0),SOUTHEAST:new Et(1,-1),SOUTH:new Et(0,-1),SOUTHWEST:new Et(-1,-1),WEST:new Et(-1,0),NORTHWEST:new Et(-1,1)};class $t{constructor(t,r=t,e,n){if(this.x=t,this.y=r,this.mineCount=e,this.start=n,this.mines=new Map,n.x>t||n.y>r||n.x<0||n.y<0)throw new Error("Start tile out of field");this.generate()}getValueOfTile(t,r){return this.mineField[t][r]}generate(){this.mineField=[];for(let t=0;t<this.x;t++){const r=[];for(let t=0;t<this.y;t++)r[t]=0;this.mineField[t]=r}for(;this.mines.size<this.mineCount;){const t=Et.random(0,this.x,0,this.y);t.equal(this.start)||(this.mines.set(t.toString(),t),this.mineField[t.x][t.y]="M")}for(const[,t]of this.mines)for(const r of Object.values(St)){const e=t.x+r.x,n=t.y+r.y,o=this.mineField[e];if(o){const t=o[n];"number"==typeof t&&(o[n]=t+1)}}}reveal(t,r,e=new Set){var n;const o=new Et(t,r).toString(),i=null===(n=this.mineField[t])||void 0===n?void 0:n[r];if(void 0===i||e.has(o))return[];{e.add(o);const n=[new Et(t,r)];if("M"===i)throw[...n,...this.mines.values()];if(0===i)for(const o of Object.values(St))n.push(...this.reveal(t+o.x,r+o.y,e));return n}}}const Tt=new _t(0),Ot=new _t(void 0);function Pt(t){let r,e,n,i,s=t[1]&&At();return{c(){r=d("button"),s&&s.c(),m(r,"class","tile svelte-1mhn48v"),_(r,"grid-row",t[2]+1),_(r,"grid-column",t[3]+1),m(r,"aria-label",e="Tile"+(t[1]?" flagged":""))},m(e,o){h(e,r,o),s&&s.m(r,null),n||(i=[v(r,"click",t[10]),v(r,"contextmenu",t[7])],n=!0)},p(t,n){t[1]?s||(s=At(),s.c(),s.m(r,null)):s&&(s.d(1),s=null),4&n&&_(r,"grid-row",t[2]+1),8&n&&_(r,"grid-column",t[3]+1),2&n&&e!==(e="Tile"+(t[1]?" flagged":""))&&m(r,"aria-label",e)},d(t){t&&f(r),s&&s.d(),n=!1,o(i)}}}function jt(t){let r;function e(t,r){return t[4]?Ht:t[5]?Mt:void 0}let n=e(t),o=n&&n(t);return{c(){r=d("div"),o&&o.c(),m(r,"class","tile svelte-1mhn48v"),_(r,"color",t[6][t[5]]),_(r,"grid-row",t[2]+1),_(r,"grid-column",t[3]+1)},m(t,e){h(t,r,e),o&&o.m(r,null)},p(t,i){n===(n=e(t))&&o?o.p(t,i):(o&&o.d(1),o=n&&n(t),o&&(o.c(),o.m(r,null))),32&i&&_(r,"color",t[6][t[5]]),4&i&&_(r,"grid-row",t[2]+1),8&i&&_(r,"grid-column",t[3]+1)},d(t){t&&f(r),o&&o.d()}}}function At(t){let r;return{c(){r=b("F")},m(t,e){h(t,r,e)},d(t){t&&f(r)}}}function Mt(t){let r;return{c(){r=b(t[5])},m(t,e){h(t,r,e)},p(t,e){32&e&&w(r,t[5])},d(t){t&&f(r)}}}function Ht(r){let e;return{c(){e=b("Mine!")},m(t,r){h(t,e,r)},p:t,d(t){t&&f(e)}}}function kt(r){let e;function n(t,r){return t[0]?jt:Pt}let o=n(r),i=o(r);return{c(){i.c(),e=g()},m(t,r){i.m(t,r),h(t,e,r)},p(t,[r]){o===(o=n(t))&&i?i.p(t,r):(i.d(1),i=o(t),i&&(i.c(),i.m(e.parentNode,e)))},i:t,o:t,d(t){i.d(t),t&&f(e)}}}function Dt(t,r,e){let{x:n}=r,{y:o}=r,{hasMine:i=!1}=r,{revealed:s=!1}=r,{flagged:c=!1}=r,{value:u}=r;return t.$set=t=>{"x"in t&&e(2,n=t.x),"y"in t&&e(3,o=t.y),"hasMine"in t&&e(4,i=t.hasMine),"revealed"in t&&e(0,s=t.revealed),"flagged"in t&&e(1,c=t.flagged),"value"in t&&e(5,u=t.value)},[s,c,n,o,i,u,{1:"#0000ff",2:"#008100",3:"#ff1300",4:"#000083",5:"#810500",6:"#2a9494",7:"#000000",8:"#808080",M:"#000000"},function(t){t.preventDefault(),e(1,c=!c)},()=>{e(0,s=!0),e(1,c=!1)},()=>{e(0,s=!1),e(1,c=!1)},function(r){!function(t,r){const e=t.$$.callbacks[r.type];e&&e.slice().forEach(t=>t(r))}(t,r)}]}class Vt extends L{constructor(t){super(),z(this,t,Dt,kt,s,{x:2,y:3,hasMine:4,revealed:0,flagged:1,value:5,reveal:8,hide:9})}get reveal(){return this.$$.ctx[8]}get hide(){return this.$$.ctx[9]}}function Ut(t,r,e){const n=t.slice();return n[12]=r[e],n[16]=e,n}function Nt(t,r,e){const n=t.slice();return n[12]=r[e],n[14]=e,n}function Ft(t){let r,e,n=t[14],o=t[16];const i=()=>t[7](r,n,o),s=()=>t[7](null,n,o);let c={x:t[14],y:t[16],value:t[3]?t[3].getValueOfTile(t[14],t[16]):0};return r=new Vt({props:c}),i(),r.$on("click",(function(...r){return t[8](t[14],t[16],...r)})),{c(){R(r.$$.fragment)},m(t,n){q(r,t,n),e=!0},p(e,c){n===(t=e)[14]&&o===t[16]||(s(),n=t[14],o=t[16],i());const u={};8&c&&(u.value=t[3]?t[3].getValueOfTile(t[14],t[16]):0),r.$set(u)},i(t){e||(C(r.$$.fragment,t),e=!0)},o(t){Y(r.$$.fragment,t),e=!1},d(t){s(),B(r,t)}}}function Ct(t){let r,e,n=Array(t[1]),o=[];for(let r=0;r<n.length;r+=1)o[r]=Ft(Ut(t,n,r));const i=t=>Y(o[t],1,1,()=>{o[t]=null});return{c(){for(let t=0;t<o.length;t+=1)o[t].c();r=g()},m(t,n){for(let r=0;r<o.length;r+=1)o[r].m(t,n);h(t,r,n),e=!0},p(t,e){if(46&e){let s;for(n=Array(t[1]),s=0;s<n.length;s+=1){const i=Ut(t,n,s);o[s]?(o[s].p(i,e),C(o[s],1)):(o[s]=Ft(i),o[s].c(),C(o[s],1),o[s].m(r.parentNode,r))}for(N(),s=n.length;s<o.length;s+=1)i(s);F()}},i(t){if(!e){for(let t=0;t<n.length;t+=1)C(o[t]);e=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Y(o[t]);e=!1},d(t){p(o,t),t&&f(r)}}}function Yt(t){let r,e,n,o,i=Array(t[0]),s=[];for(let r=0;r<i.length;r+=1)s[r]=Ct(Nt(t,i,r));const c=t=>Y(s[t],1,1,()=>{s[t]=null});return{c(){r=d("div");for(let t=0;t<s.length;t+=1)s[t].c();m(r,"class",e=l(t[6].class)+" svelte-1k9kjis"),m(r,"style",n=t[6].style)},m(t,e){h(t,r,e);for(let t=0;t<s.length;t+=1)s[t].m(r,null);o=!0},p(t,[u]){if(47&u){let e;for(i=Array(t[0]),e=0;e<i.length;e+=1){const n=Nt(t,i,e);s[e]?(s[e].p(n,u),C(s[e],1)):(s[e]=Ct(n),s[e].c(),C(s[e],1),s[e].m(r,null))}for(N(),e=i.length;e<s.length;e+=1)c(e);F()}(!o||64&u&&e!==(e=l(t[6].class)+" svelte-1k9kjis"))&&m(r,"class",e),(!o||64&u&&n!==(n=t[6].style))&&m(r,"style",n)},i(t){if(!o){for(let t=0;t<i.length;t+=1)C(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Y(s[t]);o=!1},d(t){t&&f(r),p(s,t)}}}function Rt(t,e,n){let o,i;c(t,Ot,t=>n(9,o=t));let{height:s}=e,{width:l}=e,a=Ot.pipe((h=t=>!!t,function(t){return t.lift(new pt(h,f))}));var h,f;c(t,a,t=>n(3,i=t));let p=((t,r=0)=>{const e=[];for(let n=0;n<t;n++)e.push(Array(r));return e})(l,s);function d(t){for(const r of t){const t=p[r.x][r.y];t.revealed||t.reveal()}}function b(t,r){if(o)try{d(i.reveal(t,r))}catch(t){Array.isArray(t)&&(d(t),setTimeout(()=>{Ot.next(void 0),function(t){for(const r of p)for(const e of r)t(e)}(t=>t.hide())},1e3))}else!async function(t,r,e,n,o){const i=new $t(t,r,e,new Et(n,o));Ot.next(i)}(l,s,20,t,r),setTimeout(()=>b(t,r),0)}return t.$set=t=>{n(6,e=r(r({},e),u(t))),"height"in t&&n(0,s=t.height),"width"in t&&n(1,l=t.width)},e=u(e),[s,l,p,i,a,b,e,function(t,r,e){$[t?"unshift":"push"](()=>{p[r][e]=t,n(2,p)})},(t,r)=>b(t,r)]}class qt extends L{constructor(t){super(),z(this,t,Rt,Yt,s,{height:0,width:1})}}function Bt(t){let r,e,n,o,i,s,c,u;return c=new qt({props:{class:"pf",height:zt,width:Wt}}),{c(){r=d("div"),e=d("h1"),e.textContent="MineSweeper",n=y(),o=d("span"),i=b(t[0]),s=y(),R(c.$$.fragment),m(r,"class","svelte-1vj5ex2")},m(t,l){h(t,r,l),a(r,e),a(r,n),a(r,o),a(o,i),a(r,s),q(c,r,null),u=!0},p(t,[r]){(!u||1&r)&&w(i,t[0])},i(t){u||(C(c.$$.fragment,t),u=!0)},o(t){Y(c.$$.fragment,t),u=!1},d(t){t&&f(r),B(c)}}}const Wt=10,zt=10;function Lt(t,r,e){let n;return c(t,Tt,t=>e(0,n=t)),[n]}class Gt extends L{constructor(t){super(),z(this,t,Lt,Bt,s,{})}}function It(r){let e,n;return e=new Gt({}),{c(){R(e.$$.fragment)},m(t,r){q(e,t,r),n=!0},p:t,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}return new class extends L{constructor(t){super(),z(this,t,null,It,s,{})}}({target:document.body})}();
