var app=function(){"use strict";function t(){}function r(t,r){for(const e in r)t[e]=r[e];return t}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function s(t,r){return t!=t?r==r:t!==r||t&&"object"==typeof t||"function"==typeof t}function c(r,e,n){r.$$.on_destroy.push(function(r,...e){if(null==r)return t;const n=r.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function u(t){const r={};for(const e in t)"$"!==e[0]&&(r[e]=t[e]);return r}function l(t){return null==t?"":t}function a(t,r){t.appendChild(r)}function h(t,r,e){t.insertBefore(r,e||null)}function f(t){t.parentNode.removeChild(t)}function p(t,r){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(r)}function d(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function y(){return b(" ")}function g(){return b("")}function m(t,r,e){null==e?t.removeAttribute(r):t.getAttribute(r)!==e&&t.setAttribute(r,e)}function v(t,r){r=""+r,t.wholeText!==r&&(t.data=r)}function w(t,r,e,n){t.style.setProperty(r,e,n?"important":"")}let _;function E(t){_=t}const x=[],S=[],$=[],O=[],T=Promise.resolve();let P=!1;function j(t){$.push(t)}let A=!1;const M=new Set;function H(){if(!A){A=!0;do{for(let t=0;t<x.length;t+=1){const r=x[t];E(r),k(r.$$)}for(x.length=0;S.length;)S.pop()();for(let t=0;t<$.length;t+=1){const r=$[t];M.has(r)||(M.add(r),r())}$.length=0}while(x.length);for(;O.length;)O.pop()();P=!1,A=!1,M.clear()}}function k(t){if(null!==t.fragment){t.update(),o(t.before_update);const r=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,r),t.after_update.forEach(j)}}const D=new Set;let V;function U(){V={r:0,c:[],p:V}}function N(){V.r||o(V.c),V=V.p}function F(t,r){t&&t.i&&(D.delete(t),t.i(r))}function C(t,r,e,n){if(t&&t.o){if(D.has(t))return;D.add(t),V.c.push(()=>{D.delete(t),n&&(e&&t.d(1),n())}),t.o(r)}}function Y(t){t&&t.c()}function R(t,r,n){const{fragment:s,on_mount:c,on_destroy:u,after_update:l}=t.$$;s&&s.m(r,n),j(()=>{const r=c.map(e).filter(i);u?u.push(...r):o(r),t.$$.on_mount=[]}),l.forEach(j)}function q(t,r){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(r),e.on_destroy=e.fragment=null,e.ctx=[])}function B(t,r){-1===t.$$.dirty[0]&&(x.push(t),P||(P=!0,T.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[r/31|0]|=1<<r%31}function W(r,e,i,s,c,u,l=[-1]){const a=_;E(r);const h=e.props||{},p=r.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:l};let d=!1;if(p.ctx=i?i(r,h,(t,e,...n)=>{const o=n.length?n[0]:e;return p.ctx&&c(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),d&&B(r,t)),e}):[],p.update(),d=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();e.intro&&F(r.$$.fragment),R(r,e.target,e.anchor),H()}E(a)}class z{$destroy(){q(this,1),this.$destroy=t}$on(t,r){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(r),()=>{const t=e.indexOf(r);-1!==t&&e.splice(t,1)}}$set(){}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var L=function(t,r){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function G(t,r){function e(){this.constructor=t}L(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}function I(t){return"function"==typeof t}var J=!1,K={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;J=t},get useDeprecatedSynchronousErrorHandling(){return J}};function Q(t){setTimeout((function(){throw t}),0)}var X={closed:!0,next:function(t){},error:function(t){if(K.useDeprecatedSynchronousErrorHandling)throw t;Q(t)},complete:function(){}},Z=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function tt(t){return null!==t&&"object"==typeof t}var rt=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,r){return r+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),et=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var r;if(!this.closed){var e=this._parentOrParents,n=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof t)e.remove(this);else if(null!==e)for(var i=0;i<e.length;++i){e[i].remove(this)}if(I(n))try{n.call(this)}catch(t){r=t instanceof rt?nt(t.errors):[t]}if(Z(o)){i=-1;for(var s=o.length;++i<s;){var c=o[i];if(tt(c))try{c.unsubscribe()}catch(t){r=r||[],t instanceof rt?r=r.concat(nt(t.errors)):r.push(t)}}}if(r)throw new rt(r)}},t.prototype.add=function(r){var e=r;if(!r)return t.EMPTY;switch(typeof r){case"function":e=new t(r);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof t)){var n=e;(e=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var o=e._parentOrParents;if(null===o)e._parentOrParents=this;else if(o instanceof t){if(o===this)return e;e._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return e;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e},t.prototype.remove=function(t){var r=this._subscriptions;if(r){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function nt(t){return t.reduce((function(t,r){return t.concat(r instanceof rt?r.errors:r)}),[])}var ot=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),it=function(t){function r(e,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=X;break;case 1:if(!e){i.destination=X;break}if("object"==typeof e){e instanceof r?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(i)):(i.syncErrorThrowable=!0,i.destination=new st(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new st(i,e,n,o)}return i}return G(r,t),r.prototype[ot]=function(){return this},r.create=function(t,e,n){var o=new r(t,e,n);return o.syncErrorThrowable=!1,o},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},r}(et),st=function(t){function r(r,e,n,o){var i,s=t.call(this)||this;s._parentSubscriber=r;var c=s;return I(e)?i=e:e&&(i=e.next,n=e.error,o=e.complete,e!==X&&(I((c=Object.create(e)).unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=i,s._error=n,s._complete=o,s}return G(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;K.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber,e=K.useDeprecatedSynchronousErrorHandling;if(this._error)e&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)e?(r.syncErrorValue=t,r.syncErrorThrown=!0):Q(t),this.unsubscribe();else{if(this.unsubscribe(),e)throw t;Q(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var e=function(){return t._complete.call(t._context)};K.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(t){if(this.unsubscribe(),K.useDeprecatedSynchronousErrorHandling)throw t;Q(t)}},r.prototype.__tryOrSetError=function(t,r,e){if(!K.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,e)}catch(r){return K.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Q(r),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(it),ct=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function ut(t){return t}function lt(t){return 0===t.length?ut:1===t.length?t[0]:function(r){return t.reduce((function(t,r){return r(t)}),r)}}var at=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(t,r,e){var n=this.operator,o=function(t,r,e){if(t){if(t instanceof it)return t;if(t[ot])return t[ot]()}return t||r||e?new it(t,r,e):new it(X)}(t,r,e);if(n?o.add(n.call(o,this.source)):o.add(this.source||K.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),K.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){K.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),!function(t){for(;t;){var r=t,e=r.closed,n=r.destination,o=r.isStopped;if(e||o)return!1;t=n&&n instanceof it?n:null}return!0}(t)?console.warn(r):t.error(r)}},t.prototype.forEach=function(t,r){var e=this;return new(r=ht(r))((function(r,n){var o;o=e.subscribe((function(r){try{t(r)}catch(t){n(t),o&&o.unsubscribe()}}),n,r)}))},t.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},t.prototype[ct]=function(){return this},t.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 0===t.length?this:lt(t)(this)},t.prototype.toPromise=function(t){var r=this;return new(t=ht(t))((function(t,e){var n;r.subscribe((function(t){return n=t}),(function(t){return e(t)}),(function(){return t(n)}))}))},t.create=function(r){return new t(r)},t}();function ht(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}var ft=function(){function t(t,r){this.predicate=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new pt(t,this.predicate,this.thisArg))},t}(),pt=function(t){function r(r,e,n){var o=t.call(this,r)||this;return o.predicate=e,o.thisArg=n,o.count=0,o}return G(r,t),r.prototype._next=function(t){var r;try{r=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}r&&this.destination.next(t)},r}(it),dt=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),bt=function(t){function r(r,e){var n=t.call(this)||this;return n.subject=r,n.subscriber=e,n.closed=!1,n}return G(r,t),r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,r=t.observers;if(this.subject=null,r&&0!==r.length&&!t.isStopped&&!t.closed){var e=r.indexOf(this.subscriber);-1!==e&&r.splice(e,1)}}},r}(et),yt=function(t){function r(r){var e=t.call(this,r)||this;return e.destination=r,e}return G(r,t),r}(it),gt=function(t){function r(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return G(r,t),r.prototype[ot]=function(){return new yt(this)},r.prototype.lift=function(t){var r=new mt(this,this);return r.operator=t,r},r.prototype.next=function(t){if(this.closed)throw new dt;if(!this.isStopped)for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].next(t)},r.prototype.error=function(t){if(this.closed)throw new dt;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new dt;this.isStopped=!0;for(var t=this.observers,r=t.length,e=t.slice(),n=0;n<r;n++)e[n].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(r){if(this.closed)throw new dt;return t.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(t){if(this.closed)throw new dt;return this.hasError?(t.error(this.thrownError),et.EMPTY):this.isStopped?(t.complete(),et.EMPTY):(this.observers.push(t),new bt(this,t))},r.prototype.asObservable=function(){var t=new at;return t.source=this,t},r.create=function(t,r){return new mt(t,r)},r}(at),mt=function(t){function r(r,e){var n=t.call(this)||this;return n.destination=r,n.source=e,n}return G(r,t),r.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},r.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):et.EMPTY},r}(gt),vt=function(t){function r(r){var e=t.call(this)||this;return e._value=r,e}return G(r,t),Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),r.prototype._subscribe=function(r){var e=t.prototype._subscribe.call(this,r);return e&&!e.closed&&r.next(this._value),e},r.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new dt;return this._value},r.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},r}(gt);class wt extends vt{set(t){super.next(t)}}class _t{constructor(t,r){this.x=t,this.y=r}static random(t,r,e,n){return new _t(Et(t,r),Et(e,n))}toString(){return`${this.x},${this.y}`}equal(t){return this.x===t.x&&this.y===t.y}}function Et(t,r){return Math.floor(t+Math.random()*r)}const xt={NORTH:new _t(0,1),NORTHEAST:new _t(1,1),EAST:new _t(1,0),SOUTHEAST:new _t(1,-1),SOUTH:new _t(0,-1),SOUTHWEST:new _t(-1,-1),WEST:new _t(-1,0),NORTHWEST:new _t(-1,1)};class St{constructor(t,r=t,e,n){if(this.x=t,this.y=r,this.mineCount=e,this.start=n,this.mines=new Map,n.x>t||n.y>r||n.x<0||n.y<0)throw new Error("Start tile out of field");this.generate()}getValueOfTile(t,r){return this.mineField[t][r]}generate(){this.mineField=[];for(let t=0;t<this.x;t++){const r=[];for(let t=0;t<this.y;t++)r[t]=0;this.mineField[t]=r}for(console.log(this.mineField);this.mines.size<this.mineCount;){const t=_t.random(0,this.x,0,this.y);console.log(t),t.equal(this.start)||(this.mines.set(t.toString(),t),this.mineField[t.x][t.y]="M")}for(const[,t]of this.mines)for(const r of Object.values(xt)){const e=t.x+r.x,n=t.y+r.y,o=this.mineField[e];if(o){const t=o[n];"number"==typeof t&&(o[n]=t+1)}}}reveal(t,r){return"M"===this.mineField[t][r]&&console.log("Stepped on Mine!"),[new _t(t,r)]}}const $t=new wt(0),Ot=new wt(void 0);function Tt(t){let r,e,n;return{c(){r=d("button"),m(r,"class","tile svelte-9wgfl1"),w(r,"grid-row",t[1]+1),w(r,"grid-column",t[2]+1)},m(o,i){var s,c,u,l;h(o,r,i),e||(s=r,c="click",u=t[7],s.addEventListener(c,u,l),n=()=>s.removeEventListener(c,u,l),e=!0)},p(t,e){2&e&&w(r,"grid-row",t[1]+1),4&e&&w(r,"grid-column",t[2]+1)},d(t){t&&f(r),e=!1,n()}}}function Pt(t){let r;function e(t,r){return t[3]?At:t[4]?jt:void 0}let n=e(t),o=n&&n(t);return{c(){r=d("div"),o&&o.c(),m(r,"class","tile svelte-9wgfl1"),w(r,"color",t[5][t[4]]),w(r,"grid-row",t[1]+1),w(r,"grid-column",t[2]+1)},m(t,e){h(t,r,e),o&&o.m(r,null)},p(t,i){n===(n=e(t))&&o?o.p(t,i):(o&&o.d(1),o=n&&n(t),o&&(o.c(),o.m(r,null))),16&i&&w(r,"color",t[5][t[4]]),2&i&&w(r,"grid-row",t[1]+1),4&i&&w(r,"grid-column",t[2]+1)},d(t){t&&f(r),o&&o.d()}}}function jt(t){let r;return{c(){r=b(t[4])},m(t,e){h(t,r,e)},p(t,e){16&e&&v(r,t[4])},d(t){t&&f(r)}}}function At(r){let e;return{c(){e=b("Mine!")},m(t,r){h(t,e,r)},p:t,d(t){t&&f(e)}}}function Mt(r){let e;function n(t,r){return t[0]?Pt:Tt}let o=n(r),i=o(r);return{c(){i.c(),e=g()},m(t,r){i.m(t,r),h(t,e,r)},p(t,[r]){o===(o=n(t))&&i?i.p(t,r):(i.d(1),i=o(t),i&&(i.c(),i.m(e.parentNode,e)))},i:t,o:t,d(t){i.d(t),t&&f(e)}}}function Ht(t,r,e){let{x:n}=r,{y:o}=r,{hasMine:i=!1}=r,{revealed:s=!1}=r,{value:c}=r;return t.$set=t=>{"x"in t&&e(1,n=t.x),"y"in t&&e(2,o=t.y),"hasMine"in t&&e(3,i=t.hasMine),"revealed"in t&&e(0,s=t.revealed),"value"in t&&e(4,c=t.value)},[s,n,o,i,c,{1:"#0000ff",2:"#008100",3:"#ff1300",4:"#000083",5:"#810500",6:"#2a9494",7:"#000000",8:"#808080",M:"#000000"},()=>{e(0,s=!0)},function(r){!function(t,r){const e=t.$$.callbacks[r.type];e&&e.slice().forEach(t=>t(r))}(t,r)}]}class kt extends z{constructor(t){super(),W(this,t,Ht,Mt,s,{x:1,y:2,hasMine:3,revealed:0,value:4,reveal:6})}get reveal(){return this.$$.ctx[6]}}function Dt(t,r,e){const n=t.slice();return n[9]=r[e],n[13]=e,n}function Vt(t,r,e){const n=t.slice();return n[9]=r[e],n[11]=e,n}function Ut(t){let r,e,n=t[11],o=t[13];const i=()=>t[7](r,n,o),s=()=>t[7](null,n,o);let c={x:t[11],y:t[13],value:t[3]?t[3].getValueOfTile(t[11],t[13]):0};return r=new kt({props:c}),i(),r.$on("click",(function(...r){return t[8](t[11],t[13],...r)})),{c(){Y(r.$$.fragment)},m(t,n){R(r,t,n),e=!0},p(e,c){n===(t=e)[11]&&o===t[13]||(s(),n=t[11],o=t[13],i());const u={};8&c&&(u.value=t[3]?t[3].getValueOfTile(t[11],t[13]):0),r.$set(u)},i(t){e||(F(r.$$.fragment,t),e=!0)},o(t){C(r.$$.fragment,t),e=!1},d(t){s(),q(r,t)}}}function Nt(t){let r,e,n=Array(t[1]),o=[];for(let r=0;r<n.length;r+=1)o[r]=Ut(Dt(t,n,r));const i=t=>C(o[t],1,1,()=>{o[t]=null});return{c(){for(let t=0;t<o.length;t+=1)o[t].c();r=g()},m(t,n){for(let r=0;r<o.length;r+=1)o[r].m(t,n);h(t,r,n),e=!0},p(t,e){if(46&e){let s;for(n=Array(t[1]),s=0;s<n.length;s+=1){const i=Dt(t,n,s);o[s]?(o[s].p(i,e),F(o[s],1)):(o[s]=Ut(i),o[s].c(),F(o[s],1),o[s].m(r.parentNode,r))}for(U(),s=n.length;s<o.length;s+=1)i(s);N()}},i(t){if(!e){for(let t=0;t<n.length;t+=1)F(o[t]);e=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)C(o[t]);e=!1},d(t){p(o,t),t&&f(r)}}}function Ft(t){let r,e,n,o,i=Array(t[0]),s=[];for(let r=0;r<i.length;r+=1)s[r]=Nt(Vt(t,i,r));const c=t=>C(s[t],1,1,()=>{s[t]=null});return{c(){r=d("div");for(let t=0;t<s.length;t+=1)s[t].c();m(r,"class",e=l(t[6].class)+" svelte-1k9kjis"),m(r,"style",n=t[6].style)},m(t,e){h(t,r,e);for(let t=0;t<s.length;t+=1)s[t].m(r,null);o=!0},p(t,[u]){if(47&u){let e;for(i=Array(t[0]),e=0;e<i.length;e+=1){const n=Vt(t,i,e);s[e]?(s[e].p(n,u),F(s[e],1)):(s[e]=Nt(n),s[e].c(),F(s[e],1),s[e].m(r,null))}for(U(),e=i.length;e<s.length;e+=1)c(e);N()}(!o||64&u&&e!==(e=l(t[6].class)+" svelte-1k9kjis"))&&m(r,"class",e),(!o||64&u&&n!==(n=t[6].style))&&m(r,"style",n)},i(t){if(!o){for(let t=0;t<i.length;t+=1)F(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)C(s[t]);o=!1},d(t){t&&f(r),p(s,t)}}}function Ct(t,e,n){let o,{height:i}=e,{width:s}=e,l=Ot.pipe((a=t=>!!t,function(t){return t.lift(new ft(a,h))}));var a,h;c(t,l,t=>n(3,o=t));let f=((t,r=0)=>{const e=[];for(let n=0;n<t;n++)e.push(Array(r));return e})(s,i);function p(t,r){if(o){const e=o.reveal(t,r);for(const t of e){const r=f[t.x][t.y];r.revealed||r.reveal()}}else!async function(t,r,e,n,o){const i=new St(t,r,e,new _t(n,o));Ot.next(i)}(s,i,20,t,r),setTimeout(()=>p(t,r),0)}return t.$set=t=>{n(6,e=r(r({},e),u(t))),"height"in t&&n(0,i=t.height),"width"in t&&n(1,s=t.width)},e=u(e),[i,s,f,o,l,p,e,function(t,r,e){S[t?"unshift":"push"](()=>{f[r][e]=t,n(2,f)})},(t,r)=>p(t,r)]}class Yt extends z{constructor(t){super(),W(this,t,Ct,Ft,s,{height:0,width:1})}}function Rt(t){let r,e,n,o,i,s,c,u;return c=new Yt({props:{class:"pf",height:Bt,width:qt}}),{c(){r=d("div"),e=d("h1"),e.textContent="MineSweeper",n=y(),o=d("span"),i=b(t[0]),s=y(),Y(c.$$.fragment),m(r,"class","svelte-1vj5ex2")},m(t,l){h(t,r,l),a(r,e),a(r,n),a(r,o),a(o,i),a(r,s),R(c,r,null),u=!0},p(t,[r]){(!u||1&r)&&v(i,t[0])},i(t){u||(F(c.$$.fragment,t),u=!0)},o(t){C(c.$$.fragment,t),u=!1},d(t){t&&f(r),q(c)}}}const qt=10,Bt=10;function Wt(t,r,e){let n;return c(t,$t,t=>e(0,n=t)),[n]}class zt extends z{constructor(t){super(),W(this,t,Wt,Rt,s,{})}}function Lt(r){let e,n;return e=new zt({}),{c(){Y(e.$$.fragment)},m(t,r){R(e,t,r),n=!0},p:t,i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}return new class extends z{constructor(t){super(),W(this,t,null,Lt,s,{})}}({target:document.body})}();
